<html>
	<head>
		<title> Prajwal DSouza </title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<link href='https://fonts.googleapis.com/css?family=Alegreya Sans SC' rel='stylesheet'>
		<link href='https://fonts.googleapis.com/css?family=Handlee' rel='stylesheet'>
		<link href='https://fonts.googleapis.com/css?family=McLaren' rel='stylesheet'>
		<link href='https://fonts.googleapis.com/css?family=Dosis' rel='stylesheet'>
		<link href="https://fonts.googleapis.com/css?family=KoHo" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Calibri:400,700,400italic,700italic" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Raleway:900&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

		<meta name="Referrer" content="origin" />
		
		<link rel="icon" href="square.png">




		<style type="text/css">
			a {
				cursor: pointer;
			}
		</style>
		<!-- Google Analytics Code -->
		<!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-MNFFCG66EJ"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-MNFFCG66EJ');
        </script>

	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4663378052492087"
     crossorigin="anonymous"></script>

		
		<!-- <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-database.js"></script> 
		 -->
		<script type="text/javascript" src="eurekafiles/biowords.json"></script>
		<script type="text/javascript" src="eurekafiles/economicswords.json"></script>
		
		
	
		<script type="application/ld+json">
			{
			  "@type": "Projects",
			  "name": "Prajwal DSouza Projects Page",
			  "author": "Prajwal DSouza",
			  "description": "All web projects/experiments related to Machine Learning, Math Visualizations"
			  }
		</script>
		  <meta charset="UTF-8">
  		  <meta name="description" content="A collection experiments and projects related to math, physics and computer science">
		  <meta name="keywords" content="Machine Learning, Python, Q learning, Conways Game of Life, Chaos, Fractals">
		  <meta name="author" content="Prajwal DSouza">
		  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body style='margin:0px; display: block:'>
		<div id="containAll" style='margin:0px;width:100%; height: 100%; font-size: 0;'> 
			<div id='maintitle' height="100%" width="100%" style="z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5); overflow: hidden; height: 70%; background-color: black;" >
				<div id="ringvisualH" style='margin:0px;width:100%; height: 100%;overflow: hidden; cursor: auto; position: absolute; z-index: 1; opacity: 1;'>
				</div>
				<div id="containIntro" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0.6); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<div id="menuholder" style='margin:0px;width:40%; height: 5%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1; transform: translate(-100%,-5%); left: 100%; top: 5%; '>
						<div id="diveInM1" onclick="document.getElementById('slide11').scrollIntoView({behavior: 'smooth'});" target = "_self" style='margin:0px;overflow: hidden; position: relative; transition: background 0.5s; background: hsla(250,100%,50%,0); width: 30%; height: 100%;  border-color: hsla(260,100%,50%,0); cursor: pointer; display: inline-block;'>
							
							<div id="diveInTextM1" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri; font-size: 1.3vw; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
								Projects
							</div>
						</div>
						<div id="diveInM2" onclick="window.open('https://prajwalsouza.github.io/Courses.html')" style='margin:0px;overflow: hidden; position: relative; transition: background 0.5s; background: hsla(250,100%,50%,0); width: 30%; height: 100%; border-color: hsla(260,100%,50%,0); cursor: pointer; display: inline-block;'>
							
							<div id="diveInTextM2" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri; font-size: 1.3vw; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
								Teaching and Courses
							</div>
						</div>
						<div id="diveInM3" onclick="window.open('https://github.com/prajwalsouza')" style='margin:0px;overflow: hidden; position: relative; transition: background 0.5s; background: hsla(250,100%,50%,0); width: 30%; height: 100%; border-color: hsla(260,100%,50%,0); cursor: pointer; display: inline-block;'>
							
							<div id="diveInTextM3" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri; font-size: 1.3vw; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
								Github
							</div>
						</div>
					</div>
					<div id="TitleText" style='margin:0px;overflow: hidden;text-align: center; font-family: Raleway; font-weight: lighter; font-size: 10vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,100%,1); '>
							prajwalsouza.github.io
					</div>
					
					<div id="DescriptionText" style='margin:0px;overflow: hidden;text-align: center; font-family: McLaren; font-size: 3vmin; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
							Hi. I'm Prajwal DSouza. It's my projects/simulations page.
					</div>
					<div id="contactdetails" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri; font-size: 2.3vmin; transform: translate(-50%,-60%); left: 50%; top: 60%; position: relative; color: hsla(185,10%,100%,1); '>
							<i class="fas fa-envelope"></i> prajwalsouza@gmail.com &nbsp &nbsp &nbsp &nbsp<i class="fas fa-map-marker-alt"></i> India
					</div>
				</div>
			</div>
			<div id='slide9' style='z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5);'>
				<div id="slide9Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<div id='aboutProjects' height="100%" width="100%" style='z-index:0; position: absolute;cursor:crosshair; left: 0;right: 0;top:0; bottom: 0;'>
						<div height="100%" style='z-index:0; position: relative; left: 0;right: 0;top:0; bottom: 0;'>
							<svg id='projectsIntro' height="100%" width="100%">
							</svg>
						</div>
					</div>
					<div id="TitleText9" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
							Fourier Transform Visualization
					</div>
					<div id="DescriptionText9" onclick="window.open('https://www.youtube.com/watch?v=spUNpyF58BY')" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,50%,1); '>
							Based on a 3Blue1Brown Video
					</div>
					<div id="diveIn9" onmouseover="buttonhover(event,250,9)" onmouseout="buttonout(event,250,9)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Fourier-Transform-Visualization.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(250,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
						
						<div id="diveInText9" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
							VIEW
						</div>
					</div>
				</div>

			</div>
			<div id='slide15' style='z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5);'>
				<div id="slide15Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,1); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<div id="TitleText15" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,50%,1); '>
						The Parabolic Constant Mystery 
					</div>
					<div id="DescriptionText15" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,0%,100%,1); '>
						Average distance between the center of the unit square and a point on the square's boundary is P/4, where P is the Universal Parabolic Constant. But, what business does a parabola have with distances in squares?
					</div>
					<div id="diveIn15" onmouseover="buttonhover(event,190,15)" onmouseout="buttonout(event,190,15)" onclick="window.open('/universal-parabolic-constant.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(190,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
						
						<div id="diveInText15" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
							VIEW
						</div>
					</div>
				</div>

			</div>
			<div id='slide14' style='z-index:1; position: relative;  overflow: hidden; background: black; background-image: url(https://raw.githubusercontent.com/prajwalsouza/Complex-Functions/master/complexback.PNG); background-size: cover;'>
				<div height="100%" width="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0; '>
					<svg id='slide14svg' height="100%" width="100%">
					</svg>
				</div>
				<div id="slide14Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(190,100%,0%,0.45); cursor: auto; position: relative; z-index: 7; opacity: 1;'> 
					<table width="100%" height='100%' style="border: 0px solid black; border-collapse: collapse; table-layout: fixed;">
						<tr>
							<td colspan="1" rowspan="1"></td>
							<td colspan="7" rowspan="1" id='maintitle14' style="text-align: center; vertical-align: bottom; border-right: 0px solid black; font-size: 8vmin; font-family: Calibri; font-weight: lighter;  color: hsla(190, 100%, 100%, 1);">
								Complex Functions<br/> <font style="font-size: 3.4vmin; font-weight: lighter; color: hsla(190, 0%, 100%, 1);">
								An attempt to plot them </font><br/><font style="font-size: 3.3vmin; font-weight: lighter; color: hsla(190, 100%, 100%, 1); font-family: KoHo">Based on a <a href="https://www.youtube.com/watch?v=sD0NjbwqlYw" target="_blank" style="text-decoration: none; color: hsla(190,100%,80%,1); "> 3Blue1Brown video</a></font>
							</td>
							<td colspan="1" rowspan="1"></td>
						</tr>
						<tr>
							<td colspan="3" rowspan="1"></td>
							<td colspan="3" rowspan="1" id='button14' style="text-align: center; vertical-align: middle; border-right: 0px solid black; font-size: 4vmax; font-family: Calibri; font-weight: lighter;  color: hsla(190, 100%, 100%, 1);">
								<div id="diveIn14" onmouseover="buttonhover(event,190,14)" onmouseout="buttonout(event,190,14)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Complex-Functions.html')" style='margin:0px;overflow: hidden; position: relative; transition: background 0.5s; background: hsla(190,100%,50%,0.3); width: 10vmax; height: 5.5vh; border: 1px solid; border-color: hsla(190,100%,50%,1); cursor: pointer; display: table-cell; left: 100%;'>
									
									<div id="diveInText14" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
										VIEW
									</div>
								</div>
							</td>
							<td colspan="3" rowspan="1"></td>
						</tr>
						
					</table>
				</div>

			</div>
			<div id='slide13' style='z-index:1; position: relative;  overflow: hidden; '>
				<div height="100%" width="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide14svg' height="100%" width="100%">
					</svg>
				</div>
				<div id="slide13Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(190,100%,100%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<table width="100%" height='100%' style="border: 0px solid black; border-collapse: collapse; table-layout: fixed;">
						<tr>
							<td colspan="1" rowspan="1"></td>
							<td colspan="7" rowspan="1" id='maintitle13' style="text-align: center; vertical-align: bottom; border-right: 0px solid black; font-size: 9vmin; font-family: Calibri; font-weight: lighter;  color: hsla(190, 100%, 0%, 1);">
								Gravitational Waves<br/> <font style="font-size: 3.4vmin; font-weight: lighter; color: hsla(190, 0%, 0%, 1);">
								On Matched Filtering Technique used in detection of gravitational waves. </font><br/><font style="font-size: 3.2vmin; font-weight: lighter; color: hsla(190, 100%, 0%, 1); font-family: KoHo">Based on <a href="https://pycbc.org/tutorials/3/3_WaveformMatchedFilter/" target="_blank" style="text-decoration: none; color: hsla(190,100%,50%,1); "> pycbc, a python library for processing LIGO data.</a></font>
							</td>
							<td colspan="1" rowspan="1"></td>
						</tr>
						<tr>
							<td colspan="3" rowspan="1"></td>
							<td colspan="3" rowspan="1" id='button13' style="text-align: center; vertical-align: middle; border-right: 0px solid black; font-size: 4vmax; font-family: Calibri; font-weight: lighter;  color: hsla(190, 100%, 100%, 1);">
								<div id="diveIn13" onmouseover="buttonhover(event,190,13)" onmouseout="buttonout(event,190,13)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Gravitational-Waves.html')" style='margin:0px;overflow: hidden; position: relative; transition: background 0.5s; background: hsla(190,100%,50%,0.3); width: 10vmax; height: 5.5vh; border: 1px solid; border-color: hsla(190,100%,50%,1); cursor: pointer; display: table-cell; left: 100%;'>
									
									<div id="diveInText13" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
										VIEW
									</div>
								</div>
							</td>
							<td colspan="3" rowspan="1"></td>
						</tr>
						
					</table>
				</div>

			</div>
			
			<div id='slide12' style='z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5); overflow: hidden;'>
				<div height="100%" width="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide12brainconnsvg' height="100%" width="100%">
					</svg>
				</div>
				<div height="100%" width="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide12svg' height="100%" width="100%">
					</svg>
				</div>
				<div id='slide12cover' width="100%" height="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0;  pointer-events: none;'> 
					<svg height="100%" width="100%">
					</svg>
				</div>
				<div id="containBraintexts" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0;  pointer-events: none;'>
					<div id='infoholder'></div>
				</div>
				<div id="slide12Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(190,100%,100%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<div id="TitleText12" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
							Project Eureka
					</div>
					<div id="DescriptionText12" onclick="window.open('https://www.researchgate.net/publication/221653369_Undiscovered_Public_Knowledge_A_Ten-Year_Update')" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,0%,0%,1); '>
							A search for distant neural connections. To find a link between seemingly unrelated topics.
					</div>
					<div id="diveIn12" onmouseover="buttonhover(event,190,12)" onmouseout="buttonout(event,190,12)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Eureka.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(190,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
						
						<div id="diveInText12" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
							VIEW
						</div>
					</div>
				</div>

			</div>
			
			<div id='slide11' style='z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5);'>
				<div id="slide11Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,1); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<div id="TitleText11" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,50%,1); '>
							Electrostatics
					</div>
					<div id="DescriptionText11" onclick="window.open('https://en.wikipedia.org/wiki/Poisson%27s_equation#Electrostatics')" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,0%,100%,1); '>
							Simulation solving Poisson's Equation using finite differences.
					</div>
					<div id="diveIn11" onmouseover="buttonhover(event,190,11)" onmouseout="buttonout(event,190,11)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Electrostatics.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(190,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
						
						<div id="diveInText11" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
							VIEW
						</div>
					</div>
				</div>

			</div>

			<div id='slide10' style='z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5);'>
				<div height="100%" style='z-index:1; position: absolute;left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide10svg' height="100%" width="100%">
					</svg>
				</div>
				<div id="slide10Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<div id="TitleText10" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
							Binary Classification
					</div>
					<div id="DescriptionText10" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,0%,50%,1); '>
							Demonstration of an classifier inspired by electrostatics.
					</div>
					<div id="diveIn10" onmouseover="buttonhover(event,250,10)" onmouseout="buttonout(event,250,10)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Binary-Classification.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(250,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
						
						<div id="diveInText10" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
							VIEW
						</div>
					</div>
				</div>

			</div>
			
			
			<div id='slide8' style='z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5);'>
				<div id="slide8Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0.8); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<div id="TitleText8" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,100%,1); '>
							Spider Web Simulation
					</div>
					<div id="DescriptionText8" onclick="window.open('http://www.cs.bham.ac.uk/~jer/spider.pdf')" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(35,100%,50%,1); '>
							A spider web simulation using physicsjs based on the work of Thiemo Krink and Fritz Vollrath
					</div>
					<div id="Description2Text8" onclick="window.open('https://www.instagram.com/ubermenschiv/')" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,50%,1); '>
							With Shivaprasad Bajakkaremoole
					</div>
					<div id="diveIn8" onmouseover="buttonhover(event,180,8)" onmouseout="buttonout(event,180,8)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Spider-Web-Simulation.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(180,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
						
						<div id="diveInText8" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
							VIEW
						</div>
					</div>
				</div>
			</div>
			<div id='slide7' style='z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5);'>
				<div height="100%" style='z-index:1; position: absolute;left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide7svg' height="100%" width="100%">
					</svg>
				</div>
				<div id='slide7cover' width="100%" height="100%" style='z-index:1; position: absolute;left: 0;right: 0;top:0; bottom: 0; background-color: rgba(255,255,255, 0)'>
					<svg height="100%" width="100%">
					</svg>
				</div>
				<div height="100%" width="100%" style='z-index:1; position: relative; '>
					<div id="slide7Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
						<div id="TitleText7" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
								Flocking Simulation
						</div>
						<div id="DescriptionText7" onclick="window.open('https://en.wikipedia.org/wiki/Flocking_(behavior)')" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(280,100%,0%,1); '>
								A Demostration of Flocking Algorithm.
						</div>
						<div id="Description2Text7" onclick="window.open('wellcaffeinated.net/PhysicsJS/')" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,50%,1); '>
								Uses PhysicsJS
						</div>
						<div id="diveIn7" onmouseover="buttonhover(event,30,7)" onmouseout="buttonout(event,30,7)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Flocking-Simulation.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(30,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
							
							<div id="diveInText7" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
								VIEW
							</div>
						</div>
					</div>
				</div>
			</div>

			<div id='slide6' height="100%" width="100%" style='z-index:1; position: relative;cursor: pointer;'>
				<div height="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide6svg' height="100%" width="100%">
					</svg>
				</div>
				<div id='slide6cover' width="100%" height="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0; background-color: rgba(255,255,255,0); pointer-events: none;'>
					<svg height="100%" width="100%">
					</svg>
				</div>
				<div height="100%" width="100%" style='z-index:1; position: relative; pointer-events: none; '>
					<div id="slide6Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
						<div id="TitleText6" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,100%,1); '>
								Random Triangle Mesh Generation
						</div>
						<div id="DescriptionText6" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(280,100%,100%,1); '>
								The Algorithm generates a random triangle mesh. This is generated on a HTML div Element using SVG. 
						
						</div>
						<div id="Description2Text6" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,100%,1); '>
								Click to view more variants. 
						</div>
					</div>
				</div>
			</div>

			

			<div id='slide5' height="100%" width="100%" style="background-color: rgba(0,0,0,1); position: relative; box-shadow: 0px 0px 100px rgba(0,0,0,0.5);">
				<div id="slide5Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
					<div id="TitleText5" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,100%,1); '>
							Chaos Game
					</div>
					<div id="DescriptionText5" onclick="window.open('https://www.youtube.com/watch?v=kbKtFN71Lfs')" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(280,100%,100%,1); '>
							It's a set of random steps taken on a canvas, based on certain rules. 
					</div>
					<div id="Description2Text5" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,100%,1); '>
							But, one ends up with interesting patterns after many steps. 
							Patterns? Fractals.
					</div>
					<div id="diveIn5" onmouseover="buttonhover(event,190,5)" onmouseout="buttonout(event,190,5)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Chaos%20Fractals.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(190,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
						
						<div id="diveInText5" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
							VIEW
						</div>
					</div>
				</div>
			</div>
			<div id='slide4' style='z-index:1; position: relative;cursor:crosshair;'>
				<div height="100%" width="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide4dots' height="100%" width="100%">
					</svg>
				</div>
				<div id='slide4cover' width="100%" height="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0;  pointer-events: none;'> 
					<svg height="100%" width="100%">
					</svg>
				</div>
				<div height="100%" width="100%" style='z-index:1; position: relative; pointer-events: none;'>
					<div id="slide4Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
						<div id="TitleText4" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
								Reinforcement Learning
						</div>
						<div id="DescriptionText4" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(280,100%,0%,1); '>
								I tried Q learning. It's where an agent learns from its environment, based on the reward it gets. 
						</div>
						<div id="Description2Text4" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
								And hence, does better. The next two projects are based on this. 
						</div>
					</div>
				</div>
			</div>
			<div id='slide3' style='z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5);'>
				<div height="100%" style='z-index:1; position: absolute;left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide3svg' height="100%" width="100%">
					</svg>
				</div>
				<div height="100%" width="100%" style='z-index:1; position: relative; '>
					<div id="slide3Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0.7); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
						<div id="TitleText3" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,100%,1); '>
								Grid World
						</div>
						<div id="DescriptionText3" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(280,100%,100%,1); '>
								A Q learning Agent explores a grid world. It has to avoid falling into a red pit, and reach it's green goal. 

						</div>
						<div id="Description2Text3" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,100%,1); '>
								After several episodes of training, it's learns how to do it better.
						</div>
						<div id="diveIn3" onmouseover="buttonhover(event,35,3)" onmouseout="buttonout(event,35,3)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Q%20learning%20Grid%20World.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(35,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
							
							<div id="diveInText3" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
								VIEW
							</div>
						</div>
					</div>
				</div>
			</div>
			<div id='slide2' height="100%" width="100%" style='z-index:1; position: relative;'>
				
				
				<div height="100%" width="100%" style='z-index:1; position: relative; '>
					<div id="slide2Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 1; opacity: 1;'>
						<div height="100%" style='z-index:0; position: absolute; left: 0;right: 0;top:0; bottom: 0;'>
							<svg id='slide2svg' height="100%" width="100%">
							</svg>
						</div>
						<div id="TitleText2" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
								Q Ball
						</div>
						<div id="DescriptionText2" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(280,100%,0%,1); '>
								A Ball learns to avoid collisions.
						</div>
						<div id="Description2Text2" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
								It learns based on Q learning.
						</div>
						<div id="diveIn2" onmouseover="buttonhover(event,190,2)" onmouseout="buttonout(event,190,2)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Q%20Ball.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(190,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
							
							<div id="diveInText2" style='margin:0px;overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
								VIEW
							</div>
						</div>
					</div>
				</div>
			</div>
			<div id='slide1' height="100%" width="100%" style='z-index:1; position: relative;box-shadow: 0px -30px 40px rgba(0,0,0,0.1);'>
				<div height="100%" style='z-index:0; position: absolute; left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='slide1svg' height="100%" width="100%">
					</svg>
				</div>
				<div height="100%" width="100%" style='z-index:1; position: relative; '>
					<div id="slide1Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
						<div id="TitleText1" style='margin:0px;overflow: hidden;text-align: center; font-family: Calibri;  font-weight: lighter; font-size: 8vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(190,100%,0%,1); '>
								Conway's Game of Life
						</div>
						<div id="DescriptionText1" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-40%); left: 50%; top: 40%; position: relative; color: hsla(280,100%,0%,1); '>
								A simulation that has simple rules. But gives rise to complex behaviour. 

						</div>
						<div id="diveIn1" onmouseover="buttonhover(event,35,1)" onmouseout="buttonout(event,35,1)" onclick="window.open('https://prajwalsouza.github.io/Experiments/Game%20of%20Life.html')" style='margin:0px;overflow: hidden;transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; transition: background 0.5s; background: hsla(35,100%,50%,0.3); width: 10vmax; height: 5.5vh; border-color: hsla(260,100%,50%,1); cursor: pointer;'>
							
							<div id="diveInText1" style='margin:0px; overflow: hidden;text-align: center; font-family: KoHo; font-size: 2.5vh; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(185,100%,100%,1); '>
								VIEW
							</div>
						</div>
					</div>
				</div>
			</div>
			<div id='endSlide' height="100%" width="100%" style='z-index:1; position: relative; cursor: pointer;box-shadow: 0px -10px 80px rgba(0,0,0,0.2);'>
				<div height="100%" style='z-index:1; position: absolute;left: 0;right: 0;top:0; bottom: 0;'>
					<svg id='endSlidesvg' height="100%" width="100%" >
					</svg>

				</div>
				<div id='endSlidecover' width="100%" height="100%" style='z-index:1; position: absolute; left: 0;right: 0;top:0; bottom: 0; background-color: rgba(0,0,0, 0); pointer-events: none;'>
					<svg height="100%" width="100%">
					</svg>
				</div>
				<div height="100%" width="100%" style='z-index:1; position: relative; pointer-events: none; '>
					<div id="slide0Texts" style='margin:0px;width:100%; height: 100%;overflow: hidden;background: hsla(300,100%,0%,0); cursor: auto; position: relative; z-index: 7; opacity: 1;'>
						<div id="DescriptionText0" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(280,100%,100%,1); '>
								That's about it. 
						
						</div>
						<div id="Description2Text0" style='margin:0px;overflow: hidden;text-align: center; cursor: pointer; font-family: KoHo; font-size: 3.4vmin; transform: translate(-50%,-50%); left: 50%; top: 50%; position: relative; color: hsla(190,100%,100%,1); '>
								For more projects, visit github/prajwalsouza. 
						</div>
					</div>
				</div>
			</div>
			<div id='emailsubmissiondetails' height="100%" width="100%" style="z-index:1; position: relative; box-shadow: 0px 20px 100px rgba(0,0,0,0.5); overflow: hidden; height: 95%; background-color: hsla(190, 0%, 0%, 1);" >

				<table width="100%" height='100%' style="border: 0px solid black; border-collapse: collapse; table-layout: fixed;">
					<tr style="height: 10%;"></tr>
					<tr>
						<td style="text-align: center; vertical-align: middle;">
							<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSffZ_ewfcsr_kRsuS_aGhs9MLp8mDYjHm_COb4bLsCVkjMQRg/viewform?embedded=true" width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0">Sign up for updates for simulations posted in the future.</iframe>
						</td>
					</tr>
				</table>
			</div>
		</div>


		<script type="text/javascript">


		// Fixing for Mozilla

		document.getElementById('slide4dots').height = window.innerHeight;
			
		// Handling Page Sizes

		if (window.innerHeight > window.innerWidth) {
			document.getElementById('diveInM1').style.width = '100%'
			document.getElementById('diveInM2').style.width = '100%'
			document.getElementById('diveInM3').style.width = '100%'
			document.getElementById('diveInTextM1').style.fontSize = '3vw'
			document.getElementById('diveInTextM2').style.fontSize = '3vw'
			document.getElementById('diveInTextM3').style.fontSize = '3vw'
			document.getElementById('diveInM1').style.background = 'hsla(190,100%,0%,0.3)'
			document.getElementById('diveInM2').style.background = 'hsla(200,100%,0%,0.3)'
			document.getElementById('diveInM3').style.background = 'hsla(210,100%,0%,0.3)'
			document.getElementById('diveInM1').style.height = '25%'
			document.getElementById('diveInM2').style.height = '25%'
			document.getElementById('diveInM3').style.height = '25%'
			document.getElementById('diveInM1').style.margin = '2%'
			document.getElementById('diveInM2').style.margin = '2%'
			document.getElementById('diveInM3').style.margin = '2%'
			document.getElementById('menuholder').style.width = '40%'
			document.getElementById('menuholder').style.height = '14%'

			document.getElementById('slide1').style.height = '50%'
			document.getElementById('slide2').style.height = '50%'
			document.getElementById('slide3').style.height = '50%'
			document.getElementById('slide4').style.height = '50%'
			document.getElementById('slide5').style.height = '50%'
			document.getElementById('slide6').style.height = '50%'
			document.getElementById('slide7').style.height = '50%'
			document.getElementById('slide8').style.height = '50%'
			document.getElementById('slide9').style.height = '50%'
			document.getElementById('slide10').style.height = '50%'
			document.getElementById('slide11').style.height = '50%'
			document.getElementById('slide12').style.height = '50%'
			document.getElementById('slide13').style.height = '50%'
			document.getElementById('slide14').style.height = '50%'
			document.getElementById('maintitle').style.height = '60%'

			document.getElementById('TitleText').style.fontSize = '7vmin'

		}


		function buttonhover(event,hue,slnum) {
			document.getElementById('diveIn' + slnum).style.background = 'hsla(' + hue + ',100%,50%,0.7)';
		}

		function buttonout(event,hue,slnum) {
			document.getElementById('diveIn' + slnum).style.background = 'hsla(' + hue + ',100%,50%,0.3)';
		}


		darkmode = false

		if (darkmode) {
			document.body.style.background = 'black'
		}

		function graphToSvgY(value, graphymin, graphymax) {
			if (graphymin == graphymax) {
				graphymin = graphymin - 1
				graphymax = graphymax + 1
				console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
			}
			if (graphymin > graphymax) {
				temp = graphymin
				graphymin = graphymax
				graphymax = temp
				console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
			}
			y = ((-80)/(graphymax - graphymin))*(value - graphymin) + 90
			return y
		}

		function graphToScaledY(value, graphymin, graphymax, aspectratio) {
			if(aspectratio > 1) {
				if (graphymin == graphymax) {
					graphymin = graphymin - 1
					graphymax = graphymax + 1
					console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
				}
				if (graphymin > graphymax) {
					temp = graphymin
					graphymin = graphymax
					graphymax = temp
					console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
				}
				y = ((-80)/(graphymax - graphymin))*(value - graphymin) + 90
				
			}
			else {
				if (graphymin == graphymax) {
					graphymin = graphymin - 1
					graphymax = graphymax + 1
					console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
				}
				if (graphymin > graphymax) {
					temp = graphymin
					graphymin = graphymax
					graphymax = temp
					console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
				}
				aspectratio = 1/aspectratio
				vl = (100*(1 - aspectratio)/2) + (10*aspectratio)
				vh = (100*(aspectratio + 1)/2) - (10*aspectratio)
				y = ((vl - vh)/(graphymax - graphymin))*(value - graphymin) + vh
				// console.log(x)
				// console.log(v1, v2)
				// y = (((v2 - v1)/(100))*(y)) + v1
			}

			return y
		}

		function svgToGraphY(percentvalue, graphymin, graphymax, aspectratio) {
			if(aspectratio > 1) {
				if (graphymin == graphymax) {
					graphymin = graphymin - 1
					graphymax = graphymax + 1
					console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
				}
				if (graphymin > graphymax) {
					temp = graphymin
					graphymin = graphymax
					graphymax = temp
					console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
				}

				y = ((percentvalue - 90)*(graphymax - graphymin)/((-1)*80)) + graphymin
				
			}
			else {
				if (graphymin == graphymax) {
					graphymin = graphymin - 1
					graphymax = graphymax + 1
					console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphymax + ' and Min value : ' + graphymin)
				}
				if (graphymin > graphymax) {
					temp = graphymin
					graphymin = graphymax
					graphymax = temp
					console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphymax + ' and Min value : ' + graphymin)
				}
				aspectratio = 1/aspectratio
				vl = (100*(1 - aspectratio)/2) + (10*aspectratio)
				vh = (100*(aspectratio + 1)/2) - (10*aspectratio)

				// y = ((vl - vh)/(graphymax - graphymin))*(value - graphymin) + vh
				y = (((percentvalue - vh)*(graphymax - graphymin))/(vl - vh)) + graphymin
				// console.log(x)
				// console.log(v1, v2)
				// y = (((v2 - v1)/(100))*(y)) + v1
			}

			return y
		}

		function graphToSvgX(value, graphxmin, graphxmax) {
			if (graphxmin == graphxmax) {
				graphxmin = graphxmin - 1
				graphxmax = graphxmax + 1
				console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
			}
			if (graphxmin > graphxmax) {
				temp = graphxmin
				graphxmin = graphxmax
				graphxmax = temp
				console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
			}
			x = ((80)/(graphxmax - graphxmin))*(value - graphxmin) + 10
			return x
		}

		function graphToScaledX(value, graphxmin, graphxmax, aspectratio) {
			if (aspectratio <= 1) {
				if (graphxmin == graphxmax) {
					graphxmin = graphxmin - 1
					graphxmax = graphxmax + 1
					console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
				}
				if (graphxmin > graphxmax) {
					temp = graphxmin
					graphxmin = graphxmax
					graphxmax = temp
					console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
				}
				x = ((80)/(graphxmax - graphxmin))*(value - graphxmin) + 10
			}
			else {
				if (graphxmin == graphxmax) {
					graphxmin = graphxmin - 1
					graphxmax = graphxmax + 1
					console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
				}
				if (graphxmin > graphxmax) {
					temp = graphxmin
					graphxmin = graphxmax
					graphxmax = temp
					console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
				}
				vl = (100*(1 - aspectratio)/2) + (10*aspectratio)
				vh = (100*(aspectratio + 1)/2) - (10*aspectratio)
				x = ((vh - vl)/(graphxmax - graphxmin))*(value - graphxmin) + vl
				// console.log(x)
				// console.log(v1, v2)
				// y - y1 = (y2 - y1)/(x2 - x1) * (x - x1)
				// x = (((v2 - v1)/(90))*(x - 10)) + v1
				// console.log(x)
				// console.log('_') 
			}
			return x
		}

		function svgToGraphX(percentvalue, graphxmin, graphxmax, aspectratio) {
			if (aspectratio <= 1) {
				if (graphxmin == graphxmax) {
					graphxmin = graphxmin - 1
					graphxmax = graphxmax + 1
					console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
				}
				if (graphxmin > graphxmax) {
					temp = graphxmin
					graphxmin = graphxmax
					graphxmax = temp
					console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
				}

				x = ((percentvalue - 10)*(graphxmax - graphxmin)/80) + graphxmin
			}
			else {
				if (graphxmin == graphxmax) {
					graphxmin = graphxmin - 1
					graphxmax = graphxmax + 1
					console.log('Conversion error, maximum value is equal to minimum value. Max value was raised by 1 and Min value was reduced by 1. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
				}
				if (graphxmin > graphxmax) {
					temp = graphxmin
					graphxmin = graphxmax
					graphxmax = temp
					console.log('Conversion error, maximum value less than minimum value. Values were swapped. Max value : ' + graphxmax + ' and Min value : ' + graphxmin)
				}
				vl = (100*(1 - aspectratio)/2) + (10*aspectratio)
				vh = (100*(aspectratio + 1)/2) - (10*aspectratio)

				// x = ((vh - vl)/(graphxmax - graphxmin))*(value - graphxmin) + vl

				x = ((percentvalue - vl)*(graphxmax - graphxmin)/(vh - vl)) + graphxmin

				// y - y1 = (y2 - y1)/(x2 - x1) * (x - x1)
				// x = (((v2 - v1)/(90))*(x - 10)) + v1
				 
			}
			return x
		}

		function isInt(n){
			return Number(n) === n && n % 1 === 0;
		}

		function isFloat(n){
			return Number(n) === n && n % 1 !== 0;
		}

		function gridtickvalues(valmin, valmax, ticksexpected) {
			expstring = ((valmax - valmin)/ticksexpected).toExponential()
			majorgridorder = parseFloat(Math.pow(10 , expstring.slice(expstring.indexOf('e') + 1)))
			
			if (expstring.indexOf('.') != -1) {
				majorgriddivision = parseFloat(expstring.slice(0, expstring.indexOf('.'))*majorgridorder)	
			}
			else {
				majorgriddivision = parseFloat(expstring.slice(0, expstring.indexOf('e'))*majorgridorder)
			}
			

			integerchoices = [1,2,5,10]
			for(choice = 0; choice < integerchoices.length - 1; choice++) {
				if (majorgriddivision < integerchoices[choice + 1]*majorgridorder) {
					majorgriddivisionchoice = majorgridorder*integerchoices[choice]
					break
				}
			}

			if(valmin > 0) {
				majorgridstart = Math.ceil(valmin/majorgriddivisionchoice)*majorgriddivisionchoice;
				majorgridstart = majorgridstart - majorgriddivisionchoice
			}
			else if(valmin < 0) {
				majorgridstart = Math.floor(valmin/majorgriddivisionchoice)*majorgriddivisionchoice;
			}
			else{
				majorgridstart = majorgriddivisionchoice;
			}

			// majorgridstart = majorgridstart - majorgriddivisionchoice
			// console.log(majorgridstart, (valmax + majorgriddivisionchoice), majorgriddivisionchoice)

			majortickvalues = []
			for(majoraxispoint = majorgridstart; majoraxispoint < (valmax + majorgriddivisionchoice); majoraxispoint = majoraxispoint + majorgriddivisionchoice) {
				majortickvalues.push(majoraxispoint)
			}

			return majortickvalues
		}

		function updateGraphZoom(graphname, newMinMax) {
			gdata = graphData[graphname]

			svgElement = gdata.svgElement

			if (newMinMax.xmin != 0) {
				gdata.xmin = newMinMax.xmin || gdata.xmin
			}
			else {
				gdata.xmin = 0
			}

			if (newMinMax.xmax != 0) {
				gdata.xmax = newMinMax.xmax || gdata.xmax
			}
			else {
				gdata.xmax = 0
			}

			if (newMinMax.ymin != 0) {
				gdata.ymin = newMinMax.ymin || gdata.ymin
			}
			else {
				gdata.ymin = 0
			}

			if (newMinMax.ymax != 0) {
				gdata.ymax = newMinMax.ymax || gdata.ymax
			}
			else {
				gdata.ymax = 0
			}

			aratio = gdata.aspectratio

			if (gdata.unitAspectRatio == 'yes') {
				if (gdata.fixAxis == 'yaxis') {
					if (gdata.fixAxisStretchCentrally == 'yes') {
						centre = (gdata.xmax + gdata.xmin)/2
						gdata.xmin = centre - ((gdata.ymax - gdata.ymin)*aratio/2)
						gdata.xmax = centre + ((gdata.ymax - gdata.ymin)*aratio/2)
					}
					else {
						gdata.xmax = gdata.xmin + (gdata.ymax - gdata.ymin)*aratio
					}
					
				}
				else {
					if (gdata.fixAxisStretchCentrally == 'yes') {
						centre = (gdata.ymax + gdata.ymin)/2
						gdata.ymin = centre - ((gdata.xmax - gdata.xmin)*aratio/2)
						gdata.ymax = centre + ((gdata.xmax - gdata.xmin)*aratio/2)
					}
					else {
						gdata.ymax = gdata.ymin + (gdata.xmax - gdata.xmin)*aratio	
					}
					
				}
			}

			if (gdata.yaxisvisibility == 'yes') {
				var lineElement = gdata.yaxisElement
				lineElement.setAttribute('x1', graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + '%');
				lineElement.setAttribute('y1', graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) + '%');
				lineElement.setAttribute('x2', graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + '%')
				lineElement.setAttribute('y2', graphToScaledY(gdata.ymin, gdata.ymin, gdata.ymax, aratio) + '%');
				if (darkmode == false) {
					lineElement.style.stroke = gdata.yaxiscolor
				}
				else {
					lineElement.style.stroke = 'hsla(0, 0%, 100%, 1)'
				}
				gdata.yaxisElement = lineElement
			}

			if (gdata.xaxisvisibility == 'yes') {
				var lineElement = gdata.xaxisElement
				lineElement.setAttribute('x1', graphToScaledX(gdata.xmin, gdata.xmin, gdata.xmax, aratio) + '%');
				lineElement.setAttribute('y1', graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + '%');
				lineElement.setAttribute('x2', graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + '%')
				lineElement.setAttribute('y2', graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + '%');
				if (darkmode == false) {
					lineElement.style.stroke = gdata.xaxiscolor
				}
				else {
					lineElement.style.stroke = 'hsla(0, 0%, 100%, 1)'
				}
				gdata.xaxisElement = lineElement
			}

			deleteSegments(gdata.xmajorgridElements)

			if (gdata.xmajorgridlinesvisibility == 'yes') {
				xmajortickvalues = gridtickvalues(gdata.xmin, gdata.xmax, ticks)
				gdata.xmajorgridElements = []
				for (m = 0; m < xmajortickvalues.length; m++) {
					ticklocation = xmajortickvalues[m]
					var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
					ylength = (gdata.ymax - gdata.ymin)
					if (gdata.xmajorgridlinesextension == 'yes') {
						lineElement.setAttribute('x1', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
						lineElement.setAttribute('y1', graphToScaledY(gdata.ymin - (ylength)/2, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('vector-effect','non-scaling-stroke');
						lineElement.setAttribute('x2', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%')
						lineElement.setAttribute('y2', graphToScaledY(gdata.ymax + (ylength)/2, gdata.ymin, gdata.ymax, aratio) + '%');
						
					}
					else {
						lineElement.setAttribute('x1', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
						lineElement.setAttribute('y1', graphToScaledY(gdata.ymin, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('vector-effect','non-scaling-stroke');
						lineElement.setAttribute('x2', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%')
						lineElement.setAttribute('y2', graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('id', gdata.name + '-xmajorgridline-' + m)
					}
					if (darkmode == false) {
						lineElement.style.stroke = gdata.xmajorgridcolor
					}
					else {
						lineElement.style.stroke = 'hsla(0, 0%, 100%, 1)'
					}	
					lineElement.style.strokeWidth = gdata.xmajorgridthickness + '%';
					gdata.xmajorgridElements.push(lineElement)
					svgElement.appendChild(lineElement);
				}
				gdata.xmajorgridticks = xmajortickvalues
			}

			deleteSegments(gdata.ymajorgridElements)

			if (gdata.ymajorgridlinesvisibility == 'yes') {
				ymajortickvalues = gridtickvalues(gdata.ymin, gdata.ymax, ticks)
				gdata.ymajorgridElements = []
				for (m = 0; m < ymajortickvalues.length; m++) {
					ticklocation = ymajortickvalues[m]
					var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
					xlength = (gdata.xmax - gdata.xmin)
					if (gdata.ymajorgridlinesextension == 'yes') {
						lineElement.setAttribute('x1', graphToScaledX((gdata.xmin) - xlength/2, gdata.xmin, gdata.xmax, aratio) + '%');
						lineElement.setAttribute('y1', graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('vector-effect','non-scaling-stroke');
						lineElement.setAttribute('x2', graphToScaledX(gdata.xmax + (xlength/2), gdata.xmin, gdata.xmax, aratio) + '%')
						lineElement.setAttribute('y2', graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
					}
					else {
						lineElement.setAttribute('x1', graphToScaledX(gdata.xmin, gdata.xmin, gdata.xmax, aratio) + '%');
						lineElement.setAttribute('y1', graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('vector-effect','non-scaling-stroke');
						lineElement.setAttribute('x2', graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + '%')
						lineElement.setAttribute('y2', graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
					}
					lineElement.setAttribute('id', gdata.name + '-ymajorgridline-' + m)
					if (darkmode == false) {
						lineElement.style.stroke = gdata.ymajorgridcolor
					}
					else {
						lineElement.style.stroke = 'hsla(0, 0%, 100%, 1)'
					}	
					lineElement.style.strokeWidth = gdata.ymajorgridthickness + '%';
					gdata.ymajorgridElements.push(lineElement)
					svgElement.appendChild(lineElement);
				}
				gdata.ymajorgridticks = ymajortickvalues
			}

			deleteSegments(gdata.ymajorlabelsElements)

			if (gdata.ymajorgridlabelvisibility == 'yes') {
				gdata.ymajorlabelsElements = []
				ymajortickvalues = gridtickvalues(gdata.ymin, gdata.ymax, ticks)
				scale = gdata.ymax - gdata.ymin
				expstring = scale.toExponential().toString()
				order = (expstring.slice(expstring.indexOf('e') + 1)*(-1))
				labelylocationX = gdata.axislocationX
				if (graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) < 0) {
					labelylocationX = gdata.xmin
				}
				if (graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) > 100) {
					labelylocationX = gdata.xmax
				}
				for (m = gdata.ylabelexclusionsstart; m < ymajortickvalues.length - gdata.ylabelexclusionsend; m++) {
					ticklocation = ymajortickvalues[m]

					
					var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
					

					if(isInt(ticklocation)) {
						if (gdata.isComplexPlane == 'yes') {
							textElement.innerHTML = ticklocation + 'i'
						}
						else {
							textElement.innerHTML = ticklocation
						}
					}
					else {
						
						if (Math.abs(ticklocation) < 0.01 && order > 2) {
							ticklocation = ticklocation.toExponential(order)
								
						}
						else {
							ticklocation = ticklocation.toFixed(order + 1)
						}
						if (gdata.isComplexPlane == 'yes') {
							textElement.innerHTML = ticklocation + 'i'
						}
						else {
							textElement.innerHTML = ticklocation	
						}
						if(ticklocation == 0) {
							textElement.innerHTML = 0
						}

					}


					textElement.setAttribute('x', graphToScaledX(labelylocationX, gdata.xmin, gdata.xmax, aratio) + 0.5 + gdata.ymajorgridlabelshift + '%');
					textElement.setAttribute('y',graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + 0.5 + '%');
					textElement.setAttribute('id',name + '-yticklabel-' + m)
					textElement.style.fontSize = gdata.fontSize
					textElement.style.fontFamily = 'Calibri'
					// textElement.setAttribute('text-anchor', 'middle')
					textElement.style.fill = gdata.ymajorgridlabelcolor
					if (darkmode == false) {
						textElement.style.fill = gdata.ymajorgridlabelcolor
					}
					else {
						textElement.style.fill = 'hsla(0, 0%, 100%, 1)'
					}	
					svgElement.appendChild(textElement);

					gdata.ymajorlabelsElements.push(textElement)
					
				}
			}


			deleteSegments(gdata.xmajorlabelsElements)

			if (gdata.xmajorgridlabelvisibility == 'yes') {
				gdata.xmajorlabelsElements = []
				xmajortickvalues = gridtickvalues(gdata.xmin, gdata.xmax, ticks)
				scale = gdata.xmax - gdata.xmin
				expstring = scale.toExponential().toString()
				order = (expstring.slice(expstring.indexOf('e') + 1)*(-1))
				
				labelxlocationY = gdata.axislocationY
				if (graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) < 0) {
					labelxlocationY = gdata.ymax
				}
				if (graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) > 100) {
					labelxlocationY = gdata.ymin
				}


				for (m = gdata.xlabelexclusionsstart; m < xmajortickvalues.length - gdata.xlabelexclusionsend; m++) {
					ticklocation = xmajortickvalues[m]

					var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');

					if(isInt(ticklocation)) {
						textElement.innerHTML = ticklocation
					}
					else {
						
						if (Math.abs(ticklocation) < 0.01 && order > 2) {
							ticklocation = ticklocation.toExponential(order)
							
							
						}
						else {
							ticklocation = ticklocation.toFixed(order + 1)
						}
						textElement.innerHTML = ticklocation	
						
						if(ticklocation == 0) {
							textElement.innerHTML = 0
						}

					}

					transformedXval = graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) - 1
					textElement.setAttribute('x', transformedXval + '%');
					transformedYval = graphToScaledY(labelxlocationY, gdata.ymin, gdata.ymax, aratio) + 2 + gdata.xmajorgridlabelshift
					textElement.setAttribute('y', transformedYval + '%');
					textElement.setAttribute('id',name + '-xticklabel-' + m)
					textElement.style.fontSize = gdata.fontSize
					textElement.setAttribute('text-anchor', 'middle')
					if (parseFloat(order) >= 2) {
						textElement.setAttribute('transform', 'rotate(90, ' + transformedXval + ', ' + transformedYval + ')')	
					}
					textElement.style.fontFamily = 'Calibri'
					if (darkmode == false) {
						textElement.style.fill = gdata.xmajorgridlabelcolor
					}
					else {
						textElement.style.fill = 'hsla(0, 0%, 100%, 1)'
					}
					svgElement.appendChild(textElement);
					
					gdata.xmajorlabelsElements.push(textElement)
					
				}
			}


			if (gdata.xaxislabelvisibility == 'yes') {
				var textElement = gdata.xaxislabelElement 
				textElement.setAttribute('x', graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + gdata.xaxislabelshift + '%');
				textElement.setAttribute('y',graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + 1 + '%');
				gdata.xaxislabelElement = textElement
			}


			if (gdata.yaxislabelvisibility == 'yes') {
				var textElement = gdata.yaxislabelElement
				textElement.setAttribute('x', graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + 0 + '%');
				textElement.setAttribute('y',graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) - gdata.yaxislabelshift + '%');
				gdata.yaxislabelElement = textElement
				
			}


			for (var key in gdata.lineData) {
				lineElement = gdata.lineData[key][0]
				lineoptions = gdata.lineData[key][1]

				lineElement.setAttribute('x1', graphToScaledX(lineoptions.x1, gdata.xmin, gdata.xmax, aratio) + '%');
				lineElement.setAttribute('y1', graphToScaledY(lineoptions.y1, gdata.ymin, gdata.ymax, aratio) + '%');
				lineElement.setAttribute('x2', graphToScaledX(lineoptions.x2, gdata.xmin, gdata.xmax, aratio) + '%')
				lineElement.setAttribute('y2', graphToScaledY(lineoptions.y2, gdata.ymin, gdata.ymax, aratio) + '%');
			}

			for (var key in gdata.circleData) {
				circleElement = gdata.circleData[key][0]
				circleoptions = gdata.circleData[key][1]
				rx = distanceBTWgraphToSvg([0,0],[circleoptions.radius, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
				ry = distanceBTWgraphToSvg([0,0],[0,circleoptions.radius], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
				circleElement.setAttribute('cx', graphToScaledX(circleoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
				circleElement.setAttribute('cy', graphToScaledY(circleoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
				circleElement.setAttribute('rx', rx + '%')
				circleElement.setAttribute('ry', ry + '%');
				
			}

			for (var key in gdata.pathData) {
				pathElement = gdata.pathData[key][0]
				pathoptions = gdata.pathData[key][1]
				pathstring = 'M'
				for (pth = 0; pth < pathoptions.points.length; pth++) {
					if (pth == 0) {
						pathstring = pathstring + graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
					}
					else {
						pathstring = pathstring + 'L' + graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
					}
				}
				pathElement.setAttribute('d', pathstring);

			}

			for (var key in gdata.ellipseData) {
				ellipseElement = gdata.ellipseData[key][0]
				ellipseoptions = gdata.ellipseData[key][1]
				rx = distanceBTWgraphToSvg([0,0],[ellipseoptions.rx, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
				ry = distanceBTWgraphToSvg([0,0],[0, ellipseoptions.ry], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
				ellipseElement.setAttribute('cx', graphToScaledX(ellipseoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
				ellipseElement.setAttribute('cy', graphToScaledY(ellipseoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
				ellipseElement.setAttribute('rx', rx + '%')
				ellipseElement.setAttribute('ry', ry + '%');
				
			}

			for (var key in gdata.textData) {
				textElement = gdata.textData[key][0]
				textoptions = gdata.textData[key][1]
				textElement.setAttribute('x', graphToScaledX(textoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
				textElement.setAttribute('y', graphToScaledY(textoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			
			}

			for (var key in gdata.rectData) {
				rectElement = gdata.rectData[key][0]
				rectoptions = gdata.rectData[key][1]
				
				
				rx = distanceBTWgraphToSvg([0,0],[rectoptions.w, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
				ry = distanceBTWgraphToSvg([0,0],[0, rectoptions.h], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
				
				rectElement.setAttribute('x', graphToScaledX(rectoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
				rectElement.setAttribute('y', graphToScaledY(rectoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
				rectElement.setAttribute('width', rx + '%')
				rectElement.setAttribute('height', ry + '%');
			}			

			for (var key in gdata.pointData) {
				pointElement = gdata.pointData[key][0]
				pointoptions = gdata.pointData[key][1]
				
				
				pointElement.setAttribute('cx', graphToScaledX(pointoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
				pointElement.setAttribute('cy', graphToScaledY(pointoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			}			
		}

		function addGraph(parentdiv, name, gdata) {
			gdata = gdata || {}

			gdata.name = name || 'graph' + Math.random().toString()

			if (gdata.axislocationX != 0) {
				gdata.axislocationX = gdata.axislocationX || 0
			}
			else {
				gdata.axislocationX = 0
			}
			if (gdata.axislocationY != 0) {
				gdata.axislocationY = gdata.axislocationY || 0
			}
			else {
				gdata.axislocationY = 0
			}
			if (gdata.xmin != 0) {
				gdata.xmin = gdata.xmin || -1
			}
			else {
				gdata.xmin = 0
			}
			if (gdata.xmax != 0) {
				gdata.xmax = gdata.xmax || -1
			}
			else {
				gdata.xmax = 0
			}
			if (gdata.ymin != 0) {
				gdata.ymin = gdata.ymin || -1
			}
			else {
				gdata.ymin = 0
			}
			if (gdata.ymax != 0) {
				gdata.ymax = gdata.ymax || -1
			}
			else {
				gdata.ymax = 0
			}

			gdata.unitAspectRatio = gdata.unitAspectRatio || 'no'
			gdata.fixAxis = gdata.fixAxis || 'yaxis'
			gdata.fixAxisStretchCentrally = gdata.fixAxisStretchCentrally || 'no'


			gdata.xaxisvisibility = gdata.xaxisvisibility || 'yes'
			gdata.yaxisvisibility = gdata.yaxisvisibility || 'yes'

			gdata.xaxislabelvisibility = gdata.xaxislabelvisibility || 'yes' 
			gdata.yaxislabelvisibility = gdata.yaxislabelvisibility || 'yes'
			
			gdata.xmajorgridlinesvisibility = gdata.xmajorgridlinesvisibility || 'yes'
			gdata.ymajorgridlinesvisibility = gdata.ymajorgridlinesvisibility || 'yes'

			var svgElement = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
			svgElement.setAttribute('height',"100%");
			svgElement.setAttribute('width', '100%');
			svgElement.setAttribute('viewBox',"0 0 100 100")
			// svgElement.setAttribute('preserveAspectRatio',"none")
			svgElement.setAttribute('id', name)
			svgElement.style.position = "absolute";
			svgElement.style.left = '0%'
			svgElement.style.top = '0%'
			parentdiv.appendChild(svgElement)
			gdata.svgElement = svgElement
			gdata.parentElement = parentdiv

			gdata.fontSize = gdata.fontSize || 5

			gdata.gridlinenumber = gdata.gridlinenumber || 10
			ticks = gdata.gridlinenumber

			gdata.parentW = parentdiv.offsetWidth
			gdata.parentH = parentdiv.offsetHeight

			aratio = parentdiv.offsetWidth/parentdiv.offsetHeight

			if (gdata.unitAspectRatio == 'yes') {
				if (gdata.fixAxis == 'yaxis') {
					if (gdata.fixAxisStretchCentrally == 'yes') {
						centre = (gdata.xmax + gdata.xmin)/2
						gdata.xmin = centre - ((gdata.ymax - gdata.ymin)*aratio/2)
						gdata.xmax = centre + ((gdata.ymax - gdata.ymin)*aratio/2)
					}
					else {
						gdata.xmax = gdata.xmin + (gdata.ymax - gdata.ymin)*aratio
					}
					
				}
				else {
					if (gdata.fixAxisStretchCentrally == 'yes') {
						centre = (gdata.ymax + gdata.ymin)/2
						gdata.ymin = centre - ((gdata.xmax - gdata.xmin)*aratio/2)
						gdata.ymax = centre + ((gdata.xmax - gdata.xmin)*aratio/2)
					}
					else {
						gdata.ymax = gdata.ymin + (gdata.xmax - gdata.xmin)*aratio	
					}
					
				}
			}



			if (darkmode) {
				gdata.yaxiscolor = gdata.yaxiscolor || 'hsla(0, 100%, 100%, 1)'			
				gdata.xaxiscolor = gdata.xaxiscolor || 'hsla(0, 100%, 100%, 1)'			
				gdata.xmajorgridlabelcolor = gdata.xmajorgridlabelcolor || 'hsla(0, 100%, 100%, 1)'
				gdata.ymajorgridlabelcolor = gdata.ymajorgridlabelcolor || 'hsla(0, 100%, 100%, 1)'
				gdata.xmajorgridcolor = gdata.xmajorgridcolor || 'hsla(0, 100%, 100%, 1)'
				gdata.ymajorgridcolor = gdata.ymajorgridcolor || 'hsla(0, 100%, 100%, 1)'
			}

			gdata.yaxisthickness = gdata.yaxisthickness || 0.5
			gdata.yaxiscolor = gdata.yaxiscolor || 'hsla(0, 50%, 0%, 1)'


			if (gdata.yaxisvisibility == 'yes') {
				var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
				lineElement.setAttribute('x1', graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + '%');
				lineElement.setAttribute('y1', graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) + '%');
				lineElement.setAttribute('vector-effect','non-scaling-stroke');
				lineElement.setAttribute('x2', graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + '%')
				lineElement.setAttribute('y2', graphToScaledY(gdata.ymin, gdata.ymin, gdata.ymax, aratio) + '%');
				lineElement.setAttribute('id', gdata.name + '-yaxis')
				lineElement.style.stroke = gdata.yaxiscolor
				lineElement.style.strokeWidth = gdata.yaxisthickness + '%';
				gdata.yaxisElement = lineElement
				svgElement.appendChild(lineElement);
			}

			gdata.xaxisthickness = gdata.xaxisthickness || 0.5
			gdata.xaxiscolor = gdata.xaxiscolor || 'hsla(0, 50%, 0%, 1)'

			
			if (gdata.xaxisvisibility == 'yes') {
				var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
				lineElement.setAttribute('x1', graphToScaledX(gdata.xmin, gdata.xmin, gdata.xmax, aratio) + '%');
				lineElement.setAttribute('y1', graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + '%');
				lineElement.setAttribute('vector-effect','non-scaling-stroke');
				lineElement.setAttribute('x2', graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + '%')
				lineElement.setAttribute('y2', graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + '%');
				lineElement.setAttribute('id', gdata.name + '-xaxis')
				lineElement.style.stroke = gdata.xaxiscolor
				lineElement.style.strokeWidth = gdata.xaxisthickness + '%';
				gdata.xaxisElement = lineElement
				svgElement.appendChild(lineElement);
			}


			gdata.xmajorgridcolor = gdata.xmajorgridcolor || 'hsla(190, 0%, 50%, 1)'
			gdata.xmajorgridthickness = gdata.xmajorgridthickness || 0.3

			gdata.xmajorgridlinesextension = gdata.xmajorgridlinesextension || 'yes'
			gdata.ymajorgridlinesextension = gdata.ymajorgridlinesextension || 'yes'
			
			if (gdata.xmajorgridlinesvisibility == 'yes') {
				xmajortickvalues = gridtickvalues(gdata.xmin, gdata.xmax, ticks)
				gdata.xmajorgridElements = []
				for (m = 0; m < xmajortickvalues.length; m++) {
					ticklocation = xmajortickvalues[m]
					var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
					ylength = (gdata.ymax - gdata.ymin)
					if (gdata.xmajorgridlinesextension == 'yes') {
						lineElement.setAttribute('x1', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
						lineElement.setAttribute('y1', graphToScaledY(gdata.ymin - (ylength)/2, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('vector-effect','non-scaling-stroke');
						lineElement.setAttribute('x2', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%')
						lineElement.setAttribute('y2', graphToScaledY(gdata.ymax + (ylength)/2, gdata.ymin, gdata.ymax, aratio) + '%');
						
					}
					else {
						lineElement.setAttribute('x1', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%');
						lineElement.setAttribute('y1', graphToScaledY(gdata.ymin, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('vector-effect','non-scaling-stroke');
						lineElement.setAttribute('x2', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) + '%')
						lineElement.setAttribute('y2', graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('id', gdata.name + '-xmajorgridline-' + m)
					}
					lineElement.style.stroke = gdata.xmajorgridcolor
					lineElement.style.strokeWidth = gdata.xmajorgridthickness + '%';
					gdata.xmajorgridElements.push(lineElement)
					svgElement.appendChild(lineElement);
				}
				gdata.xmajorgridticks = xmajortickvalues
			}

			gdata.ymajorgridcolor = gdata.ymajorgridcolor || 'hsla(190, 0%, 50%, 1)'
			gdata.ymajorgridthickness = gdata.ymajorgridthickness || 0.3


			if (gdata.ymajorgridlinesvisibility == 'yes') {
				ymajortickvalues = gridtickvalues(gdata.ymin, gdata.ymax, ticks)
				gdata.ymajorgridElements = []
				for (m = 0; m < ymajortickvalues.length; m++) {
					ticklocation = ymajortickvalues[m]
					var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
					xlength = (gdata.xmax - gdata.xmin)
					if (gdata.ymajorgridlinesextension == 'yes') {
						lineElement.setAttribute('x1', graphToScaledX((gdata.xmin) - xlength/2, gdata.xmin, gdata.xmax, aratio) + '%');
						lineElement.setAttribute('y1', graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('vector-effect','non-scaling-stroke');
						lineElement.setAttribute('x2', graphToScaledX(gdata.xmax + (xlength/2), gdata.xmin, gdata.xmax, aratio) + '%')
						lineElement.setAttribute('y2', graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
					}
					else {
						lineElement.setAttribute('x1', graphToScaledX(gdata.xmin, gdata.xmin, gdata.xmax, aratio) + '%');
						lineElement.setAttribute('y1', graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
						lineElement.setAttribute('vector-effect','non-scaling-stroke');
						lineElement.setAttribute('x2', graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + '%')
						lineElement.setAttribute('y2', graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + '%');
					}
					lineElement.setAttribute('id', gdata.name + '-ymajorgridline-' + m)
					lineElement.style.stroke = gdata.ymajorgridcolor
					lineElement.style.strokeWidth = gdata.ymajorgridthickness + '%';
					gdata.ymajorgridElements.push(lineElement)
					svgElement.appendChild(lineElement);
				}
				gdata.ymajorgridticks = ymajortickvalues
			}

			

			gdata.ymajorgridlabelvisibility = gdata.ymajorgridlabelvisibility || 'yes'
			gdata.ymajorgridlabelcolor = gdata.ymajorgridlabelcolor || 'hsla(190, 0%, 50%, 1)'


			gdata.ymajorgridlabelshift = gdata.ymajorgridlabelshift || 0.1
			gdata.xmajorgridlabelshift = gdata.xmajorgridlabelshift || 0.1

			gdata.xmajorgridlabelvisibility = gdata.xmajorgridlabelvisibility || 'yes'
			gdata.xmajorgridlabelcolor = gdata.xmajorgridlabelcolor || 'hsla(190, 0%, 50%, 1)'



			gdata.xlabelexclusionsstart = gdata.xlabelexclusionsstart || 0
			gdata.xlabelexclusionsend = gdata.xlabelexclusionsend || 0

			gdata.ylabelexclusionsstart = gdata.ylabelexclusionsstart || 0
			gdata.ylabelexclusionsend = gdata.ylabelexclusionsend || 0


			gdata.isComplexPlane = gdata.isComplexPlane || 'no'


			if (gdata.ymajorgridlabelvisibility == 'yes') {
				gdata.ymajorlabelsElements = []
				ymajortickvalues = gridtickvalues(gdata.ymin, gdata.ymax, ticks)
				labelylocationX = gdata.axislocationX
				if (graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) < 0) {
					labelylocationX = gdata.xmin
				}
				if (graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) > 100) {
					labelylocationX = gdata.xmax
				}
				for (m = gdata.ylabelexclusionsstart; m < ymajortickvalues.length - gdata.ylabelexclusionsend; m++) {
					ticklocation = ymajortickvalues[m]

					var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
					

					if(isInt(ticklocation)) {
						if (gdata.isComplexPlane == 'yes') {
							textElement.innerHTML = ticklocation + 'i'
						}
					}
					else {
						expstring = ticklocation.toExponential().toString()
						order = (expstring.slice(expstring
							.indexOf('e') + 1)*(-1))
						if (parseFloat(order) < -1) {
							ticklocation = ticklocation.toExponential(0)	
						}
						else {
							ticklocation = ticklocation.toFixed(2)
						}
						textElement.innerHTML = ticklocation
						if(ticklocation == 0) {
							textElement.innerHTML = 0
						}
						if (gdata.isComplexPlane == 'yes') {
							textElement.innerHTML = ticklocation + 'i'
						}

					}


					textElement.setAttribute('x', graphToScaledX(labelylocationX, gdata.xmin, gdata.xmax, aratio) + 0.5 + gdata.ymajorgridlabelshift + '%');
					textElement.setAttribute('y',graphToScaledY(ticklocation, gdata.ymin, gdata.ymax, aratio) + 0.5 + '%');
					textElement.setAttribute('id',name + '-yticklabel-' + m)
					textElement.style.fontSize = gdata.fontSize
					textElement.style.fontFamily = 'Calibri'
					textElement.style.fill = gdata.ymajorgridlabelcolor
					svgElement.appendChild(textElement);

					gdata.ymajorlabelsElements.push(textElement)
					
				}
			}


			if (gdata.xmajorgridlabelvisibility == 'yes') {
				gdata.xmajorlabelsElements = []
				xmajortickvalues = gridtickvalues(gdata.xmin, gdata.xmax, ticks)
				labelxlocationY = gdata.axislocationY
				if (graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) < 0) {
					labelxlocationY = gdata.ymin
				}
				if (graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) > 100) {
					labelxlocationY = gdata.ymax
				}


				for (m = gdata.xlabelexclusionsstart; m < xmajortickvalues.length - gdata.xlabelexclusionsend; m++) {
					ticklocation = xmajortickvalues[m]

					var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');

					if(isInt(ticklocation)) {
						textElement.innerHTML = ticklocation
					}
					else {

						expstring = ticklocation.toExponential().toString()
						order = (expstring.slice(expstring.indexOf('e') + 1)*(-1))
						if (parseFloat(order) < -1) {
							ticklocation = ticklocation.toExponential(0)	
						}
						else {
							ticklocation = ticklocation.toFixed(2)
						}
						textElement.innerHTML = ticklocation
						if(ticklocation == 0) {
							textElement.innerHTML = 0
						}

					}

					textElement.setAttribute('x', graphToScaledX(ticklocation, gdata.xmin, gdata.xmax, aratio) - 1 + '%');
					textElement.setAttribute('y',graphToScaledY(labelxlocationY, gdata.ymin, gdata.ymax, aratio) + 2 + gdata.xmajorgridlabelshift + '%');
					textElement.setAttribute('id',name + '-xticklabel-' + m)
					textElement.style.fontSize = gdata.fontSize
					textElement.style.fontFamily = 'Calibri'
					textElement.style.fill = gdata.ymajorgridlabelcolor
					svgElement.appendChild(textElement);
					
					gdata.xmajorlabelsElements.push(textElement)
					
				}
			}


			gdata.xaxislabel = gdata.xaxislabel || 'x axis'
			gdata.yaxislabel = gdata.yaxislabel || 'y axis'

			gdata.xaxislabelshift = gdata.xaxislabelshift || 2
			gdata.yaxislabelshift = gdata.yaxislabelshift || 2

			if (gdata.xaxislabelvisibility == 'yes') {
				var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
				textElement.innerHTML = gdata.xaxislabel 
				textElement.setAttribute('x', graphToScaledX(gdata.xmax, gdata.xmin, gdata.xmax, aratio) + gdata.xaxislabelshift + '%');
				textElement.setAttribute('y',graphToScaledY(gdata.axislocationY, gdata.ymin, gdata.ymax, aratio) + 1 + '%');
				textElement.setAttribute('id',name + '-xaxislabel')
				textElement.style.fontSize = gdata.fontSize
				textElement.style.fontFamily = 'Calibri'
				
				svgElement.appendChild(textElement);
				gdata.xaxislabelElement = textElement
				
			}


			if (gdata.yaxislabelvisibility == 'yes') {
				var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
				textElement.innerHTML = gdata.yaxislabel 
				textElement.setAttribute('x', graphToScaledX(gdata.axislocationX, gdata.xmin, gdata.xmax, aratio) + 0 + '%');
				textElement.setAttribute('y',graphToScaledY(gdata.ymax, gdata.ymin, gdata.ymax, aratio) - gdata.yaxislabelshift + '%');
				textElement.setAttribute('id',name + '-yaxislabel')
				textElement.style.fontSize = gdata.fontSize
				textElement.style.fontFamily = 'Calibri'
				
				svgElement.appendChild(textElement);
				gdata.yaxislabelElement = textElement
				
			}

			gdata.lineData = {}
			gdata.circleData = {}
			gdata.pointData = {}
			gdata.ellipseData = {}
			gdata.rectData = {}
			gdata.textData = {}
			gdata.pathData = {}

			gdata.aspectratio = aratio



			graphData[name] = gdata
			return JSON.parse(JSON.stringify(gdata));
		}

		function getGraphCursorLocation(cursorpercent, graphname) {
			gdata = graphData[graphname]

			graphEl = document.getElementById(gdata.name)

			valx = svgToGraphX(cursorpercent[0], gdata.xmin, gdata.xmax, gdata.aspectratio)
			valy = svgToGraphY(cursorpercent[1], gdata.ymin, gdata.ymax, gdata.aspectratio)

			return [valx, valy]
		}

		function addLine(graphname, linename, lineoptions) {
			gdata = graphData[graphname]
			lineoptions = lineoptions || {}

			aratio = gdata.aspectratio

			lineoptions.x1 = parseFloat(lineoptions.x1.toString() || 0)
			lineoptions.y1 = parseFloat(lineoptions.y1.toString() || 0)
			lineoptions.x2 = parseFloat(lineoptions.x2.toString() || 0.5)
			lineoptions.y2 = parseFloat(lineoptions.y2.toString() || 0.5)
			lineoptions.name = linename || uid

			lineoptions.strokedasharray = lineoptions.strokedasharray || ""
			lineoptions.strokewidth = lineoptions.strokewidth || 1
			lineoptions.linecolor = lineoptions.linecolor || 'hsla(190, 100%, 50%, 1)'

			var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
			lineElement.setAttribute('x1', graphToScaledX(lineoptions.x1, gdata.xmin, gdata.xmax, aratio) + '%');
			lineElement.setAttribute('y1', graphToScaledY(lineoptions.y1, gdata.ymin, gdata.ymax, aratio) + '%');
			lineElement.setAttribute('x2', graphToScaledX(lineoptions.x2, gdata.xmin, gdata.xmax, aratio) + '%')
			lineElement.setAttribute('y2', graphToScaledY(lineoptions.y2, gdata.ymin, gdata.ymax, aratio) + '%');
			lineElement.setAttribute('stroke-dasharray', lineoptions.strokedasharray);
			
			lineElement.setAttribute('id', graphname + '-line-' + linename)
			uid = uid + 1
			lineElement.setAttribute('vector-effect','non-scaling-stroke');
			lineElement.style.stroke = lineoptions.linecolor
			lineElement.style.strokeWidth = lineoptions.strokewidth + '%';
			gdata.svgElement.appendChild(lineElement);

			graphData[graphname].lineData[linename] = [lineElement, lineoptions]
			return [lineElement, lineoptions]
		}

		function addPath(graphname, pathname, pathoptions) {
			gdata = graphData[graphname]
			pathoptions = pathoptions || {}

			aratio = gdata.aspectratio

			pathoptions.points = pathoptions.points || [[0, 1], [1, 0]]

			pathstring = 'M'

			for (pth = 0; pth < pathoptions.points.length; pth++) {
				if (pth == 0) {
					pathstring = pathstring + graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
				}
				else {
					pathstring = pathstring + 'L' + graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
				}
				
			}

			

			pathoptions.name = pathname || uid
			// console.log((0).toString() || 0.5)

			pathoptions.strokewidth = pathoptions.strokewidth || 1
			pathoptions.pathcolor = pathoptions.pathcolor || 'hsla(190, 100%, 50%, 1)'

			var pathElement = document.createElementNS("http://www.w3.org/2000/svg", 'path');
			pathElement.setAttribute('d', pathstring);
			pathElement.setAttribute('id', graphname + '-path-' + pathname)
			uid = uid + 1
			pathElement.style.stroke = pathoptions.pathcolor
			pathElement.style.fill = 'none'
			pathElement.style.strokeWidth = pathoptions.strokewidth + '%';
			gdata.svgElement.appendChild(pathElement);

			graphData[graphname].pathData[pathname] = [pathElement, pathoptions]
			return [pathElement, pathoptions]
		}

		function updatePath(graphname, pathname, newpathoptions) {

			gdata = graphData[graphname]
			aratio = gdata.aspectratio

			pathoptions = gdata.pathData[pathname][1]
			pathElement = gdata.pathData[pathname][0]

			pathoptions.points = newpathoptions.points || pathoptions.points

			pathstring = 'M'

			for (pth = 0; pth < pathoptions.points.length; pth++) {
				if (pth == 0) {
					pathstring = pathstring + graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
				}
				else {
					pathstring = pathstring + 'L' + graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
				}
				
			}

			pathElement.setAttribute('d', pathstring);

			pathoptions.strokewidth = newpathoptions.strokewidth || pathoptions.strokewidth
			pathoptions.pathcolor = newpathoptions.pathcolor || pathoptions.pathcolor

			pathElement.style.stroke = pathoptions.pathcolor
			pathElement.style.fill = 'none'
			pathElement.style.strokeWidth = pathoptions.strokewidth + '%';
			
			graphData[graphname].pathData[pathname] = [pathElement, pathoptions]
		}

		function updatePathPoints(graphname, pathname, npathpoints) {

			gdata = graphData[graphname]
			aratio = gdata.aspectratio

			pathoptions = gdata.pathData[pathname][1]
			pathElement = gdata.pathData[pathname][0]

			pathoptions.points = npathpoints || pathoptions.points

			pathstring = 'M'

			for (pth = 0; pth < pathoptions.points.length; pth++) {
				if (pth == 0) {
					pathstring = pathstring + graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
				}
				else {
					pathstring = pathstring + 'L' + graphToScaledX(pathoptions.points[pth][0], gdata.xmin, gdata.xmax, aratio) + ' ' + graphToScaledY(pathoptions.points[pth][1], gdata.ymin, gdata.ymax, aratio) + ' '
				}
				
			}

			pathElement.setAttribute('d', pathstring);
			
			graphData[graphname].pathData[pathname] = [pathElement, pathoptions]

			return [pathElement, pathoptions]
		}

		function updateLine(graphname, linename, linevalues) {

			gdata = graphData[graphname]
			aratio = gdata.aspectratio

			lineoptions = gdata.lineData[linename][1]
			lineElement = gdata.lineData[linename][0]
			
			if (linevalues.x1 != 0) {
				lineoptions.x1 = linevalues.x1 || lineoptions.x1	
			}
			else {
				lineoptions.x1 = linevalues.x1
			}


			if (linevalues.y1 != 0) {
				lineoptions.y1 = linevalues.y1 || lineoptions.y1	
			}
			else {
				lineoptions.y1 = linevalues.y1
			}


			if (linevalues.x2 != 0) {
				lineoptions.x2 = linevalues.x2 || lineoptions.x2	
			}
			else {
				lineoptions.x2 = linevalues.x2
			}


			if (linevalues.y2 != 0) {
				lineoptions.y2 = linevalues.y2 || lineoptions.y2	
			}
			else {
				lineoptions.y2 = linevalues.y2
			}

			lineoptions.strokedasharray = linevalues.strokedasharray || lineoptions.strokedasharray
			lineoptions.strokewidth = linevalues.strokewidth || lineoptions.strokewidth
			lineoptions.linecolor = linevalues.linecolor || lineoptions.linecolor

			lineElement.setAttribute('x1', graphToScaledX(lineoptions.x1, gdata.xmin, gdata.xmax, aratio) + '%');
			lineElement.setAttribute('y1', graphToScaledY(lineoptions.y1, gdata.ymin, gdata.ymax, aratio) + '%');
			lineElement.setAttribute('x2', graphToScaledX(lineoptions.x2, gdata.xmin, gdata.xmax, aratio) + '%')
			lineElement.setAttribute('y2', graphToScaledY(lineoptions.y2, gdata.ymin, gdata.ymax, aratio) + '%');

			lineElement.setAttribute('stroke-dasharray', lineoptions.strokedasharray);
			lineElement.style.stroke = lineoptions.linecolor
			lineElement.style.strokeWidth = lineoptions.strokewidth + '%';
			
			graphData[graphname].lineData[linename] = [lineElement, lineoptions]
		}

		function distanceBTWgraphToSvg(p1, p2, xmin, xmax, ymin, ymax, aspectratio) {
			pt1 = [graphToScaledX(p1[0], xmin, xmax, aspectratio), graphToScaledY(p1[1], ymin, ymax, aspectratio)]
			pt2 = [graphToScaledX(p2[0], xmin, xmax, aspectratio), graphToScaledY(p2[1], ymin, ymax, aspectratio)]

			return Math.pow(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2), 0.5)
		}

		function addCircle(graphname, circlename, circleoptions) {
			gdata = graphData[graphname]
			circleoptions = circleoptions || {}
			aratio = gdata.aspectratio

			if (circleoptions.x != 0) {
				circleoptions.x = circleoptions.x || 0.3
			}
			else {
				circleoptions.x = 0
			}

			if (circleoptions.y != 0) {
				circleoptions.y = circleoptions.y || 0.3
			}
			else {
				circleoptions.y = 0
			}

			if (circleoptions.radius != 0) {
				circleoptions.radius = circleoptions.radius || 0.3
			}
			else {
				circleoptions.radius = 0
			}

			circleoptions.name = circlename || uid

			circleoptions.stroke = circleoptions.stroke || 'hsla(190, 100%, 50%, 0.5)'
			circleoptions.strokewidth = circleoptions.strokewidth || 0.1
			
			circleoptions.circlecolor = circleoptions.circlecolor || 'hsla(190, 100%, 50%, 1)'

			rx = distanceBTWgraphToSvg([0,0],[circleoptions.radius, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			ry = distanceBTWgraphToSvg([0,0],[0, circleoptions.radius], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			
			var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'ellipse');
			circleElement.setAttribute('cx', graphToScaledX(circleoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			circleElement.setAttribute('cy', graphToScaledY(circleoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			circleElement.setAttribute('rx', rx + '%')
			circleElement.setAttribute('ry', ry + '%');
			circleElement.setAttribute('id', graphname + '-circle-' + circlename)
			uid = uid + 1
			circleElement.setAttribute('vector-effect','non-scaling-stroke');
			circleElement.style.fill = circleoptions.circlecolor
			circleElement.style.strokeWidth = circleoptions.strokewidth + '%';
			circleElement.style.stroke = circleoptions.stroke;
			circleElement.setAttribute('stroke-dasharray', circleoptions.strokedasharray);
			gdata.svgElement.appendChild(circleElement);

			graphData[graphname].circleData[circlename] = [circleElement, circleoptions]
		}

		function updateCircle(graphname, circlename, circlenewvalues) {

			gdata = graphData[graphname]
			aratio = gdata.aspectratio

			circleoptions = gdata.circleData[circlename][1]
			circleElement = gdata.circleData[circlename][0]


			if (circleoptions.x != 0) {
				circleoptions.x = circlenewvalues.x || circleoptions.x
			}
			else {
				circleoptions.x = 0
			}

			if (circleoptions.y != 0) {
				circleoptions.y = circlenewvalues.y || circleoptions.y
			}
			else {
				circleoptions.y = 0
			}

			if (circleoptions.radius != 0) {
				circleoptions.radius = circlenewvalues.radius || circleoptions.radius
			}
			else {
				circleoptions.radius = 0
			}

			circleoptions.name = circlename || uid

			circleoptions.stroke = circlenewvalues.stroke || circleoptions.stroke
			circleoptions.strokewidth = circlenewvalues.strokewidth || circleoptions.strokewidth
			
			circleoptions.circlecolor = circlenewvalues.circlecolor || circleoptions.circlecolor

			rx = distanceBTWgraphToSvg([0,0],[circleoptions.radius, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			ry = distanceBTWgraphToSvg([0,0],[0, circleoptions.radius], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			
			circleElement.setAttribute('cx', graphToScaledX(circleoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			circleElement.setAttribute('cy', graphToScaledY(circleoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			circleElement.setAttribute('rx', rx + '%')
			circleElement.setAttribute('ry', ry + '%');
			circleElement.setAttribute('id', graphname + '-circle-' + circlename)
			uid = uid + 1
			circleElement.setAttribute('vector-effect','non-scaling-stroke');
			circleElement.style.fill = circleoptions.circlecolor
			circleElement.style.strokeWidth = circleoptions.strokewidth + '%';
			circleElement.style.stroke = circleoptions.stroke;
			circleElement.setAttribute('stroke-dasharray', circleoptions.strokedasharray);
			
			graphData[graphname].circleData[circlename] = [circleElement, circleoptions]
		}

		function addEllipse(graphname, ellipsename, ellipseoptions) {
			gdata = graphData[graphname]

			aratio = gdata.aspectratio

			ellipseoptions = ellipseoptions || {}

			ellipseoptions.x = parseFloat(ellipseoptions.x.toString() || 0)
			ellipseoptions.y = parseFloat(ellipseoptions.y.toString() || 0)
			ellipseoptions.rx = parseFloat(ellipseoptions.rx.toString() || 0.3)
			ellipseoptions.ry = parseFloat(ellipseoptions.ry.toString() || 8)
			ellipseoptions.name = ellipsename || uid

			ellipseoptions.stroke = ellipseoptions.stroke || 'hsla(190, 100%, 50%, 0.5)'
			ellipseoptions.strokewidth = ellipseoptions.strokewidth || 0.1
			
			ellipseoptions.ellipsecolor = ellipseoptions.ellipsecolor || 'hsla(190, 100%, 50%, 1)'

			rx = distanceBTWgraphToSvg([0,0],[ellipseoptions.rx, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			ry = distanceBTWgraphToSvg([0,0],[0, ellipseoptions.ry], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			
			var ellipseElement = document.createElementNS("http://www.w3.org/2000/svg", 'ellipse');
			ellipseElement.setAttribute('cx', graphToScaledX(ellipseoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			ellipseElement.setAttribute('cy', graphToScaledY(ellipseoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			ellipseElement.setAttribute('rx', rx + '%')
			ellipseElement.setAttribute('ry', ry + '%');
			ellipseElement.setAttribute('id', graphname + '-ellipse-' + ellipsename)
			uid = uid + 1
			ellipseElement.setAttribute('vector-effect','non-scaling-stroke');
			ellipseElement.style.fill = ellipseoptions.ellipsecolor
			ellipseElement.style.strokeWidth = ellipseoptions.strokewidth + '%';
			ellipseElement.style.stroke = ellipseoptions.stroke;
			gdata.svgElement.appendChild(ellipseElement);

			graphData[graphname].ellipseData[ellipsename] = [ellipseElement, ellipseoptions]
		}

		function addText(graphname, textname, textoptions) {
			gdata = graphData[graphname]
			textoptions = textoptions || {}

			aratio = gdata.aspectratio

			textoptions.x = parseFloat(textoptions.x.toString() || 0)
			textoptions.y = parseFloat(textoptions.y.toString() || 0)
			textoptions.text = textoptions.text || ''
			textoptions.name = textname || uid

			textoptions.textAlign = textoptions.textAlign || 'left'
			textoptions.fontSize = textoptions.fontSize || 12
			
			textoptions.textcolor = textoptions.textcolor || 'hsla(190, 100%, 0%, 1)'
			
			var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
			textElement.setAttribute('x', graphToScaledX(textoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			textElement.setAttribute('y', graphToScaledY(textoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			textElement.setAttribute('id', graphname + '-text-' + textname)
			uid = uid + 1
			textElement.setAttribute('vector-effect','non-scaling-stroke');
			textElement.style.fill = textoptions.textcolor
			textElement.innerHTML = textoptions.text
			textElement.style.fontFamily = 'Calibri'
			textElement.style.fontSize = textoptions.fontSize;
			if (textoptions.textAlign == 'center') {
				textElement.setAttribute('text-anchor','middle')
			}
			gdata.svgElement.appendChild(textElement);

			graphData[graphname].textData[textname] = [textElement, textoptions]
			return [textElement, textoptions]
		}

		function updateText(graphname, textname, textvalues) {
			gdata = graphData[graphname]

			aratio = gdata.aspectratio

			textoptions = gdata.textData[textname][1]
			textElement = gdata.textData[textname][0]

			textoptions.text = textvalues.text || textoptions.text
			textoptions.x = textvalues.x || textoptions.x
			textoptions.y = textvalues.y || textoptions.y
			textoptions.textcolor = textvalues.textcolor || textoptions.textcolor

			textElement.innerHTML = textoptions.text
			textElement.setAttribute('x', graphToScaledX(textoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			textElement.setAttribute('y', graphToScaledY(textoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			textElement.style.fill = textoptions.textcolor
			
			graphData[graphname].textData[textname] = [textElement, textoptions]
			return [textElement, textoptions]
		}

		function addRectangle(graphname, rectname, rectoptions) {
			gdata = graphData[graphname]
			aratio = gdata.aspectratio
			rectoptions = rectoptions || {}

			rectoptions.x = parseFloat(rectoptions.x.toString() || 0)
			rectoptions.y = parseFloat(rectoptions.y.toString() || 0)
			rectoptions.w = parseFloat(rectoptions.w.toString() || 1)
			rectoptions.h = parseFloat(rectoptions.h.toString() || 1)
			rectoptions.name = rectname || uid

			rectoptions.stroke = rectoptions.stroke || 'hsla(190, 100%, 50%, 0.5)'
			rectoptions.strokewidth = rectoptions.strokewidth || 0.1
			rectoptions.strokedasharray = rectoptions.strokedasharray || ""

			
			rectoptions.rectcolor = rectoptions.rectcolor || 'hsla(190, 100%, 50%, 1)'

			rx = distanceBTWgraphToSvg([0,0],[rectoptions.w, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			ry = distanceBTWgraphToSvg([0,0],[0, rectoptions.h], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			
			var rectElement = document.createElementNS("http://www.w3.org/2000/svg", 'rect');
			rectElement.setAttribute('x', graphToScaledX(rectoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			rectElement.setAttribute('y', graphToScaledY(rectoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			rectElement.setAttribute('width', rx + '%')
			rectElement.setAttribute('height', ry + '%');
			rectElement.setAttribute('id', graphname + '-rect-' + rectname)
			uid = uid + 1
			rectElement.setAttribute('vector-effect','non-scaling-stroke');
			rectElement.style.fill = rectoptions.rectcolor
			rectElement.style.strokeWidth = rectoptions.strokewidth + '%';
			rectElement.style.stroke = rectoptions.stroke;
			rectElement.setAttribute('stroke-dasharray', rectoptions.strokedasharray);

			gdata.svgElement.appendChild(rectElement);

			graphData[graphname].rectData[rectname] = [rectElement, rectoptions]

			return [rectElement, rectoptions]
		}

		function updateRectangle(graphname, rectname, rectvalueupdate) {
			gdata = graphData[graphname]
			rectoptions = gdata.rectData[rectname][1]
			rectElement = gdata.rectData[rectname][0]
			aratio = gdata.aspectratio

			if (rectvalueupdate.x != 0) {
				rectoptions.x = rectvalueupdate.x || rectoptions.x	
			}
			else {
				rectoptions.x = rectvalueupdate.x
			}


			if (rectvalueupdate.y != 0) {
				rectoptions.y = rectvalueupdate.y || rectoptions.y	
			}
			else {
				rectoptions.y = rectvalueupdate.y
			}


			if (rectvalueupdate.w != 0) {
				rectoptions.w = rectvalueupdate.w || rectoptions.w	
			}
			else {
				rectoptions.w = rectvalueupdate.w
			}


			if (rectvalueupdate.h != 0) {
				rectoptions.h = rectvalueupdate.h || rectoptions.h	
			}
			else {
				rectoptions.h = rectvalueupdate.h
			}
			
			rectoptions.stroke = rectvalueupdate.stroke || rectoptions.stroke
			rectoptions.strokewidth = rectvalueupdate.strokewidth || rectoptions.strokewidth
			
			rectoptions.rectcolor = rectvalueupdate.rectcolor || rectoptions.rectcolor

			rx = distanceBTWgraphToSvg([0,0],[rectoptions.w, 0], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			ry = distanceBTWgraphToSvg([0,0],[0, rectoptions.h], gdata.xmin, gdata.xmax, gdata.ymin, gdata.ymax, aratio)
			
			rectElement.setAttribute('x', graphToScaledX(rectoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			rectElement.setAttribute('y', graphToScaledY(rectoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			rectElement.setAttribute('width', rx + '%')
			rectElement.setAttribute('height', ry + '%');
			rectElement.style.fill = rectoptions.rectcolor
			rectElement.style.strokeWidth = rectoptions.strokewidth + '%';
			rectElement.style.stroke = rectoptions.stroke;

			
			graphData[graphname].rectData[rectname] = [rectElement, rectoptions]
		}

		function addPoint(graphname, pointname, pointoptions) {
			gdata = graphData[graphname]
			aratio = gdata.aspectratio

			pointoptions = pointoptions || {}

			if (pointoptions.x != 0) {
				pointoptions.x = pointoptions.x || 0.3	
			}
			if (pointoptions.y != 0) {
				pointoptions.y = pointoptions.y || 0.3	
			}
			// pointoptions.y = pointoptions.y || 0.3
			pointoptions.pointsize = pointoptions.pointsize || 0.7
			pointoptions.name = pointname || uid

			pointoptions.pointcolor = pointoptions.pointcolor || 'hsla(190, 100%, 50%, 1)'
			
			var pointElement = document.createElementNS("http://www.w3.org/2000/svg", 'ellipse');
			pointElement.setAttribute('cx', graphToScaledX(pointoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			pointElement.setAttribute('cy', graphToScaledY(pointoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			pointElement.setAttribute('rx', pointoptions.pointsize + '%')
			pointElement.setAttribute('ry', pointoptions.pointsize + '%');
			pointElement.setAttribute('id', graphname + '-point-' + pointname)
			uid = uid + 1
			pointElement.setAttribute('vector-effect','non-scaling-stroke');
			pointElement.style.fill = pointoptions.pointcolor
			gdata.svgElement.appendChild(pointElement);

			graphData[graphname].pointData[pointname] = [pointElement, pointoptions]
			return [pointElement, pointoptions]
		}

		function updatePoint(graphname, pointname, newpointoptions) {
			gdata = graphData[graphname]
			pointoptions = gdata.pointData[pointname][1]
			pointElement = gdata.pointData[pointname][0]
			aratio = gdata.aspectratio

			if (pointoptions.x != 0) {
				pointoptions.x = newpointoptions.x || pointoptions.x
			}
			if (pointoptions.y != 0) {
				pointoptions.y = newpointoptions.x || pointoptions.y
			}
			// pointoptions.y = pointoptions.y || 0.3
			pointoptions.pointsize = newpointoptions.pointsize || pointoptions.pointsize
			pointoptions.name = pointname || uid

			pointoptions.pointcolor = newpointoptions.pointcolor || pointoptions.pointcolor
			
			pointElement.setAttribute('cx', graphToScaledX(pointoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			pointElement.setAttribute('cy', graphToScaledY(pointoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');
			pointElement.setAttribute('rx', pointoptions.pointsize + '%')
			pointElement.setAttribute('ry', pointoptions.pointsize + '%');
			pointElement.setAttribute('id', graphname + '-point-' + pointname)
			uid = uid + 1
			pointElement.setAttribute('vector-effect','non-scaling-stroke');
			pointElement.style.fill = pointoptions.pointcolor
			gdata.svgElement.appendChild(pointElement);

			graphData[graphname].pointData[pointname] = [pointElement, pointoptions]

		}

		function updatePointXY(graphname, pointname, xvalue, yvalue) {
			pointElement = document.getElementById(graphname + '-point-' + pointname)
			
			gdata = graphData[graphname]
			aratio = gdata.aspectratio

			pointoptions = graphData[graphname].pointData[pointname][1]

			pointoptions.x = xvalue
			pointoptions.y = yvalue
			
			
			pointElement.setAttribute('cx', graphToScaledX(pointoptions.x, gdata.xmin, gdata.xmax, aratio) + '%');
			pointElement.setAttribute('cy', graphToScaledY(pointoptions.y, gdata.ymin, gdata.ymax, aratio) + '%');

			graphData[graphname].pointData[pointname] = [pointElement, pointoptions]
		}

		function removePoint(graphname, pointname) {
			pointElement = document.getElementById(graphname + '-point-' + pointname)
			
			pointElement.outerHTML = "";
			delete graphData[graphname].pointData[pointname]
		}

		function removeLine(graphname, linename) {
			lineElement = document.getElementById(graphname + '-line-' + linename)
			lineElement.outerHTML = "";
			delete graphData[graphname].lineData[linename]
		}

		function removePath(graphname, pathname) {
			pathElement = document.getElementById(graphname + '-path-' + pathname)
			pathElement.outerHTML = "";
			delete graphData[graphname].pathData[pathname]
		}

		uid = 0
		graphData = {}

		function makeArc(arcradius, arcthickness, arccolor, startanglepercent, endanglepercent, ringname) {
			resolution = 100
			arcpoints = []
			for (p = startanglepercent*resolution; p < endanglepercent*(resolution + 1); p++) {
				quanta = 2*Math.PI/resolution
				arcpoints.push([arcradius*Math.cos(quanta*p), arcradius*Math.sin(quanta*p)])
			}
			options = {}
			options.points = arcpoints
			options.pathcolor = arccolor
			options.strokewidth = arcthickness
			addPath('ringvisualgraph', ringname, options)
			// console.log(options.points)

			return arcpoints
		}

		function makeArcS(ringarcnum, arcradius, arcthickness, arccolor, startanglepercent, endanglepercent, ringname) {
			resolution = 20
			arcpoints = []
			for (p = startanglepercent*resolution; p < endanglepercent*(resolution + 1); p++) {
				quanta = 2*Math.PI/resolution
				arcpoints.push([arcradius*Math.cos(quanta*p), arcradius*Math.sin(quanta*p)])
			}
			options = {}
			options.points = arcpoints
			options.pathcolor = arccolor
			options.strokewidth = arcthickness
			addPath('ringvisualgraph', ringname, options)
			// console.log(options.points)
		}


		function randomChoice(choicearray) {
			return choicearray[parseInt(Math.random()*choicearray.length)]
		}

		ringcolors = [160, 170, 180, 260, 122, 61]
			
		ringTheme = ['complimentary']

		ringData = {}

		function setupRingVisual() {
			ringvisual = document.getElementById('ringvisualH')
			graphoptions = {}
			graphoptions.xmax = 3
			graphoptions.xmin = -1
			graphoptions.ymax = 1
			graphoptions.ymin = -1
			graphoptions.axislocationX = 0
			graphoptions.axislocationY = 0

			graphoptions.xaxislabelvisibility = 'no'
			graphoptions.yaxislabelvisibility = 'no'

			graphoptions.xaxisvisibility= 'no'
			graphoptions.yaxisvisibility = 'no'

			graphoptions.xmajorgridlabelvisibility = 'no'
			graphoptions.ymajorgridlabelvisibility = 'no'

			graphoptions.xmajorgridlinesvisibility = 'no'
			graphoptions.ymajorgridlinesvisibility = 'no'

			graphoptions.ymajorgridlinesextension = 'yes'
			graphoptions.xmajorgridlinesextension = 'yes'

			graphoptions.fontSize = 2

			graphoptions.unitAspectRatio = 'yes'
			graphoptions.fixAxis = 'yaxis'
			graphoptions.fixAxisStretchCentrally = 'yes'

			// graphoptions.isringvisual = 'yes'
			
			addGraph(ringvisual, 'ringvisualgraph', graphoptions)

			// makeArc(0.3, 0.4, 0.8)

			rings = 16

			

			for (ring = 5; ring < rings; ring++) {
				breaks = parseInt(Math.random()*ring*2 + 3)
				breakpoints = []
				for (g = 0; g < breaks; g++) {
					breakpoints.push(Math.random())
				}

				breakpoints.sort(function(a, b){return a-b})



				// ringcolor = 'hsla(' + randomChoice(ringcolors) + ', 100%, 50%, 1)'
				
				chosenRingTheme = randomChoice(ringTheme)
				if (chosenRingTheme == 'complimentary') {
					ringcolor = 'hsla(' + (0 + (ring - 5)*300/rings) + ', 100%, 50%, 1)'
				}
				else if (chosenRingTheme == 'selectedColors') {
					ringcolor = 'hsla(' + randomChoice(ringcolors) + ', 100%, 50%, 1)'
				}
				

				ringthick = 10*(Math.random() - 0.5)*0.1 + 1.2
				ringrad = ring/14;
				ringspeed =  (Math.random() - 0.5)*0.002
				
				// bpnum : breakPoint number
				for (bpnum = 1; bpnum < breakpoints.length; bpnum = bpnum + 2) {
					returnpoints = makeArc(ringrad, ringthick, ringcolor, breakpoints[bpnum - 1], breakpoints[bpnum], 'ring ' + ring + ' arc ' + parseInt(bpnum/2))
					if (typeof ringData[ring] !== 'undefined') {
						ringData[ring].push([breakpoints[bpnum - 1], breakpoints[bpnum], 'ring ' + ring + ' arc ' + parseInt(bpnum/2),ringspeed, returnpoints, ringrad, ringrad, ringrad])
					}
					else {
						ringData[ring] = [[breakpoints[bpnum - 1], breakpoints[bpnum], 'ring ' + ring + ' arc ' + parseInt(bpnum/2),ringspeed, returnpoints, ringrad, ringrad, ringrad]]
					}
				}


			}

			

		}

		setupRingVisual()


		function turnRings() {
			for (var key in ringData) {
				rdata = ringData[key]
				for (rk = 0; rk < rdata.length; rk++) {
					rname = rdata[rk][2]
					rspeed = rdata[rk][3]
					rpoints = rdata[rk][4]
					rrad = rdata[rk][5]
					rprad = rdata[rk][6]
					for (rp = 0; rp < rpoints.length; rp++) {
						cosp = rpoints[rp][0]/rprad
						sinp = rpoints[rp][1]/rprad
						newcosp = cosp*Math.cos(rspeed) - sinp*Math.sin(rspeed)
						newsinp = sinp*Math.cos(rspeed) + cosp*Math.sin(rspeed)
						rpoints[rp] = [rrad*newcosp, rrad*newsinp]
					}
					rdata[rk][6] = rdata[rk][5]
					ringData[key][rk][4] = rpoints
					// console.log('ringvisualgraph-path-' + rname)
					updatePathPoints('ringvisualgraph', rname, rpoints)
				}
			}
		}

		looptime = 0
		function playLoop(event) {
			loopinterval = setInterval(frame, 10);
			function frame() {
				looptime = looptime + 1
				turnRings()
			}
		}

		playLoop()



		endSlidesvg = document.getElementById('endSlidesvg')

		pointsMemoryPrism = []
		neighbourConnectionData = {}
		creationNode = {}

		// From https://stackoverflow.com/questions/22521982/js-check-if-point-inside-a-polygon

		function inside(point, vs) {
			// ray-casting algorithm based on
			// http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html

			var x = point[0], y = point[1];

			var inside = false;
			for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {
				var xi = vs[i][0], yi = vs[i][1];
				var xj = vs[j][0], yj = vs[j][1];

				var intersect = ((yi > y) != (yj > y))
					&& (x < (xj - xi) * (y - yi) / (yj - yi) + xi);
				if (intersect) inside = !inside;
			}

			return inside;
		};

		


		
		averagedistance = 30
		radiusdeviation = 20
		angledeviation = 10

		function getPossibilityRange(thepoint,mainnode) {
			connectedpoints = neighbourConnectionData[thepoint[0] + ',' + thepoint[1]].slice()
			pointofinterest = connectedpoints[0]
			Angle1 = Math.atan2(pointofinterest[1] - thepoint[1],pointofinterest[0] - thepoint[0])*180/Math.PI
			if (Angle1 < 0) {
				Angle1 = 360 + Angle1
			}

			pointofinterest = connectedpoints[1]
			Angle2 = Math.atan2(pointofinterest[1] - thepoint[1],pointofinterest[0] - thepoint[0])*180/Math.PI
			if (Angle2 < 0) {
				Angle2 = 360 + Angle2
			}

			Anglemain = Math.atan2(mainnode[1] - thepoint[1],mainnode[0] - thepoint[0])*180/Math.PI
			if (Anglemain < 0) {
				Anglemain = 360 + Anglemain
			}

			maxvalue = Math.max(Angle1,Angle2)
			minvalue = Math.min(Angle1,Angle2)

			if (Anglemain < maxvalue && Anglemain > minvalue) {
				possibilityrange = 360 - Math.abs(Angle2 - Angle1)
				between = [Angle2,Angle1]
				startingcue = -1
			}
			else {
				possibilityrange = Math.abs(Angle2 - Angle1)
				between = [Angle2,Angle1]
				startingcue = 1
			}

			if(minvalue == Angle1) {
				startingMneigh = connectedpoints[0]
				endingMneigh = connectedpoints[1]
			}
			else {
				startingMneigh = connectedpoints[1]
				endingMneigh = connectedpoints[0]
			}


			return [possibilityrange,between,startingMneigh,endingMneigh,startingcue]
		}


		function pickAngleInRange(rangeLength,extremes,startingcuevalue) {
			intervaldivision = parseInt(rangeLength/50);
			minvalue = Math.min(extremes[0],extremes[1])
			maxvalue = Math.max(extremes[0],extremes[1])
			anglevalues = []

			if (startingcuevalue == 1) {
				anglevalue = minvalue
				for (i=0; i < intervaldivision; i++) {
					anglevalue = anglevalue + 50 + (angledeviation*(Math.random() - 0.5))
					if (Math.abs(maxvalue - anglevalue) > 30) {
						anglevalues.push(anglevalue)
					}
				}
			}
			else {
				anglevalue = minvalue
				for (i=0; i < intervaldivision; i++) {
					anglevalue = anglevalue - 50 + (angledeviation*(Math.random() - 0.5))
					if (anglevalue < 0) {
						anglevalue = 360 + anglevalue
					}
					if (Math.abs(maxvalue - anglevalue) > 30) {
						anglevalues.push(anglevalue)
					}
					
				}
			}


			return anglevalues
		}

		function indexOfmin(arr) {
			if (arr.length === 0) {
				return -1;
			}

			var min = arr[0];
			var minIndex = 0;

			for (var i = 1; i < arr.length; i++) {
				if (arr[i] < min) {
					minIndex = i;
					min = arr[i];
				}
			}

			return minIndex;
		}

		function drawText(divId, textdata, xcor, ycor,size) {
			var textElement = document.createElementNS("http://www.w3.org/2000/svg", 'text');
			textElement.setAttribute('x',xcor);
			textElement.setAttribute('y',ycor);
			textElement.setAttribute('font-size',size);
			textElement.innerHTML = textdata
			divId.appendChild(textElement);
		}

		function sleep(miliseconds) {
			 var currentTime = new Date().getTime();

			while (currentTime + miliseconds >= new Date().getTime()) {

			}
		}


		
		
		function formPrism() {
			triangleData = []

			angles = pickAngleInRange(360,[0,390],1)


			initvalue = [Math.random()*window.innerWidth, Math.random()*window.innerHeight];
			currentvalue = initvalue

			pointsList = []
			pointsList.push[currentvalue]
			currentlist = []

			visitablenodes = []

			for (j = 0; j < angles.length; j++) {
				angle = angles[j]
				radius = averagedistance + (radiusdeviation*Math.random())

				xvalue = currentvalue[0] + radius*Math.cos(angle*Math.PI/180)
				yvalue = currentvalue[1] + radius*Math.sin(angle*Math.PI/180)

				if(inside([xvalue,yvalue],visitablenodes)) {
					console.log("Point Outside")
				}
				else {
					pointsList.push([xvalue,yvalue])
					creationNode[xvalue+','+yvalue] = currentvalue
					if (xvalue <= window.innerWidth*1.2 && xvalue >= -0.2*window.innerWidth && yvalue <= window.innerHeight*1.2 && yvalue >= -0.2*window.innerHeight) {
						visitablenodes.push([xvalue,yvalue])
					}
					currentlist.push([xvalue,yvalue])
				}
			}


			for (k = 0; k < currentlist.length; k++) {
				neighbours = []

				index = (k - 1)
				if (index < 0) {
					index = index + currentlist.length
				}
				if (index >= currentlist.length) {
					index = index % currentlist.length
				}
				
				neighbours.push(currentlist[index])

				index = (k + 1)
				if (index < 0) {
					index = index + currentlist.length
				}
				if (index >= currentlist.length) {
					index = index % currentlist.length
				}
				
				neighbours.push(currentlist[index])

				point = currentlist[k]
				neighbourConnectionData[point[0] + ',' + point[1]] = neighbours
				triangleData.push([neighbours[0],point,currentvalue])

			}

			ranges = []
			for (m=0; m < visitablenodes.length;m++) {
				node = visitablenodes[m]
				ranges.push(getPossibilityRange(node, currentvalue)[0])
			}


			minvalueindex = indexOfmin(ranges)
			nextnode = visitablenodes[minvalueindex]


			visitablenodes.splice(minvalueindex, 1);




			


			while(visitablenodes.length != 0) {

				prange = getPossibilityRange(nextnode, creationNode[nextnode[0]+','+nextnode[1]])
				mainnodevalue = currentvalue
				currentvalue = nextnode


				// drawDot(endSlidesvg,currentvalue[0],currentvalue[1], '0.3%', 'blue')
				// drawText(endSlidesvg,h,currentvalue[0],currentvalue[1],14)

				angles = pickAngleInRange(prange[0],prange[1],prange[4])
				startingMneigh = prange[2]
				endingMneigh = prange[3]

				currentlist = []
				for (j = 0; j < angles.length; j++) {

					angle = angles[j]
					radius = averagedistance + (radiusdeviation*Math.random())

					xvalue = currentvalue[0] + radius*Math.cos(angle*Math.PI/180)
					yvalue = currentvalue[1] + radius*Math.sin(angle*Math.PI/180)

					if(inside([xvalue,yvalue],visitablenodes)) {
						// console.log("Point Outside")
					}
					else {
						pointsList.push([xvalue,yvalue])
						creationNode[xvalue+','+yvalue] = currentvalue
						if (xvalue <= window.innerWidth*1.2 && xvalue >= -0.2*window.innerWidth && yvalue <= window.innerHeight*1.2 && yvalue >= -0.2*window.innerHeight) {
							visitablenodes.push([xvalue,yvalue])
						}
						currentlist.push([xvalue,yvalue])
						// drawLine(endSlidesvg,currentvalue[0],currentvalue[1],xvalue,yvalue,'red','0.4%')
						// drawDot(endSlidesvg,xvalue,yvalue, '0.3%', 'orange')
						// drawText(endSlidesvg,1,xvalue,yvalue,10)
					}

				}
				



				if(currentlist.length == 0) {
					currneighbours = neighbourConnectionData[currentvalue[0] + ',' + currentvalue[1]]

					// drawLine(endSlidesvg,currneighbours[0][0],currneighbours[0][1],currneighbours[1][0],currneighbours[1][1],'grey','0.2%')
					n1 = currneighbours[0]
					n1neighbours = neighbourConnectionData[n1[0] + ',' + n1[1]]
					if (n1neighbours[0][0] == currentvalue[0] && n1neighbours[0][1] == currentvalue[1]) {
						n1neighbours.splice(0, 1, currneighbours[1]);
					}
					else {
						n1neighbours.splice(1, 1, currneighbours[1]);
					}
					n2 = currneighbours[1]
					n2neighbours = neighbourConnectionData[n2[0] + ',' + n2[1]]
					if (n2neighbours[0][0] == currentvalue[0] && n2neighbours[0][1] == currentvalue[1]) {
						n2neighbours.splice(0, 1, currneighbours[0]);
					}
					else {
						n2neighbours.splice(1, 1, currneighbours[0]);
					}

					triangleData.push([currneighbours[0],currneighbours[1],currentvalue])

				}


				else if (currentlist.length == 1) {

					point = currentlist[0]
					currneighbours = neighbourConnectionData[currentvalue[0] + ',' + currentvalue[1]]

					neighbourConnectionData[point[0] + ',' + point[1]] = currneighbours
					triangleData.push([currneighbours[0],point,currentvalue])
					triangleData.push([currneighbours[1],point,currentvalue])

					// drawLine(endSlidesvg,currneighbours[0][0],currneighbours[0][1],point[0],point[1],'grey','0.2%')
					// drawLine(endSlidesvg,point[0],point[1],currneighbours[1][0],currneighbours[1][1],'grey','0.2%')



					sidepoint = currneighbours[0]
					ngh = neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]].slice();

					if (ngh[0][0] == currentvalue[0] && ngh[0][1] == currentvalue[1]) {
						ngh.splice(0, 1, point);
						neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]] = ngh
					}
					else {
						ngh.splice(1, 1, point);
						neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]] = ngh
					}

					sidepoint = currneighbours[1]
					ngh = neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]].slice();

					if (ngh[0][0] == currentvalue[0] && ngh[0][1] == currentvalue[1]) {
						ngh.splice(0, 1, point);
						neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]] = ngh
					}
					else {
						ngh.splice(1, 1, point);
						neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]] = ngh
					}

				}

				else {


					neighbours = []

					point = currentlist[0]
					
					neighbours.push(startingMneigh)
					sidepoint = startingMneigh
					triangleData.push([startingMneigh,point,currentvalue])
					ngh = neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]].slice();

					

						

					
					if (ngh[0][0] == currentvalue[0] && ngh[0][1] == currentvalue[1]) {
						ngh.splice(0, 1, point);
						neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]] = ngh
					}
					else {
						ngh.splice(1, 1, point);
						neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]] = ngh
					}

					neighbours.push(currentlist[1])

					neighbourConnectionData[point[0] + ',' + point[1]] = neighbours
					
					
					// drawLine(endSlidesvg,neighbours[0][0],neighbours[0][1],point[0],point[1],'grey','0.2%')
					// drawLine(endSlidesvg,point[0],point[1],neighbours[1][0],neighbours[1][1],'grey','0.2%')

					

					for (k = 1; k < currentlist.length - 1; k++) {
						neighbours = []

						index = (k - 1)
						if (index < 0) {
							index = index + currentlist.length
						}
						if (index >= currentlist.length) {
							index = index % currentlist.length
						}
						
						neighbours.push(currentlist[index])

						index = (k + 1)
						if (index < 0) {
							index = index + currentlist.length
						}
						if (index >= currentlist.length) {
							index = index % currentlist.length
						}
						
						neighbours.push(currentlist[index])

						point = currentlist[k]
						neighbourConnectionData[point[0] + ',' + point[1]] = neighbours
						// drawLine(endSlidesvg,neighbours[0][0],neighbours[0][1],point[0],point[1],'grey','0.2%')
						// drawLine(endSlidesvg,point[0],point[1],neighbours[1][0],neighbours[1][1],'grey','0.2%')
						triangleData.push([neighbours[0],point,currentvalue])

					}

					triangleData.push([ currentlist[currentlist.length - 2], currentlist[currentlist.length - 1],currentvalue])

					

					neighbours = []

					point = currentlist[currentlist.length - 1]
					
					neighbours.push(endingMneigh)
					sidepoint = endingMneigh

					triangleData.push([endingMneigh,point,currentvalue])
					ngh = neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]].slice();

					
					if (ngh[0][0] == currentvalue[0] && ngh[0][1] == currentvalue[1]) {
						ngh.splice(0, 1, point);
						neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]] = ngh
					}
					else {
						ngh.splice(1, 1, point);
						neighbourConnectionData[sidepoint[0] + ',' + sidepoint[1]] = ngh
					}

					neighbours.push(currentlist[currentlist.length - 2])

					neighbourConnectionData[point[0] + ',' + point[1]] = neighbours
					
					
					// drawLine(endSlidesvg,neighbours[0][0],neighbours[0][1],point[0],point[1],'grey','0.2%')
					// drawLine(endSlidesvg,point[0],point[1],neighbours[1][0],neighbours[1][1],'grey','0.2%')
					


				}
				ranges = []



				for (ind=0; ind < visitablenodes.length;ind++) {
					node = visitablenodes[ind]
					ranges.push(getPossibilityRange(node, creationNode[node[0]+','+node[1]])[0])
				}

				

				minvalueindex = indexOfmin(ranges)
				prevPrange = ranges[minvalueindex]

				
				nextnode = visitablenodes[minvalueindex]


				visitablenodes.splice(minvalueindex, 1);


				// drawDot(endSlidesvg,nextnode[0],nextnode[1], '0.3%', 'violet')

			}

			return triangleData

		}



		triangleData = formPrism()


		function drawPrism(divId) {
			colorchoices = ['rgba(0,0,0,0.7)']

			for (i=0; i<triangleData.length; i++) {
				ithTriangleSet = triangleData[i]
				var polyElement = document.createElementNS("http://www.w3.org/2000/svg", 'polygon');
				polypoints = ithTriangleSet[0][0] + ',' +ithTriangleSet[0][1] + ' ' + ithTriangleSet[1][0] + ',' + ithTriangleSet[1][1] + ' ' + ithTriangleSet[2][0] + ',' + ithTriangleSet[2][1]
				polyElement.setAttribute('points',polypoints);
				polyElement.setAttribute('id','triangleNo' + i);
				polyElement.style.fill = colorchoices[parseInt(Math.random()*(colorchoices.length))];
				polyElement.style.strokeWidth = '0.05%';
				polyElement.style.stroke = 'rgba(255,255,255,0.3)';
				divId.appendChild(polyElement);
			}
		}

		drawPrism(endSlidesvg)

		colorchosenStatus = {}


		colorscheme = ['single','analogous','complimentary']
		colorconfig = [['blue',290,240] ,['orange',70,30],['red',50,3],['violet',335,290]]

	

		choice = colorconfig[parseInt(Math.random()*(colorconfig.length))];
		scheme = colorscheme[parseInt(Math.random()*(colorscheme.length))];

		function linktoGithub(event) {
			alldiv = endSlidesvg.children;
			for (i = 0; i < alldiv.length; i++) {
				element = alldiv[i]
				if (element.tagName == 'polygon') {
					colorchoice = colorPick(element.points[0].x,element.points[0].y);
					element.style.fill = colorchoice;
					element.style.stroke = colorchoice;
					colorchosenStatus[element.id.toString()] = [1,colorPick(posX,posY)];
				}
			}
			window.open('https://github.com/prajwalsouza');
		}





		function colorPick(xval,yval) {
			lvalue = 10 + ((xval/window.innerWidth)*70) + (Math.random() - 0.5)*20
			if (scheme == 'single') {
				hvalue = choice[2]
			}
			else if (scheme == 'analogous') {
				hvalue = choice[1] - ((yval/window.innerHeight)*100)
			}
			else if (scheme == 'complimentary') {
				if (yval < window.innerHeight/2) {
					hvalue = choice[2] + 200
				}
				else {
					hvalue = choice[2]
				}
			}
			else if (scheme == 'complimentary-random') {
				if (Math.random() < 0.5) {
					hvalue = choice[2] + 200
				}
				else {
					hvalue = choice[2]
				}
			}
			svalue = 100
			return 'hsl(' + hvalue + ',' + svalue + '%,' + lvalue + '%)'
		}



		function giveColor(event) {
			var bRect = endSlidesvg.getBoundingClientRect();
			posX = event.clientX - bRect.left;
			posY = event.clientY - bRect.top;
			colorchoice = colorPick(posX,posY)
			event.target.style.fill = colorchoice
			event.target.style.stroke = colorchoice
			colorchosenStatus[event.target.id.toString()] = [1,colorPick(posX,posY)]
			
		}

		endSlidesvg.addEventListener('mouseover',giveColor);
		endSlidesvg.addEventListener('click',linktoGithub);









		function testingRange() {

			initvalue = [302, 273];
			currentvalue = initvalue

			angle = Math.random()*360
			radius = averagedistance + (radiusdeviation*Math.random())

			xvalue = currentvalue[0] + radius*Math.cos(angle*Math.PI/180)
			yvalue = currentvalue[1] + radius*Math.sin(angle*Math.PI/180)


			mainnode = currentvalue
			interestnode = [250.54242383023535, 268.8352035928806]

			drawDot(endSlidesvg,mainnode[0],mainnode[1], '0.3%', 'black')
			drawDot(endSlidesvg,interestnode[0],interestnode[1], '0.5%', 'blue')
			drawLine(endSlidesvg,mainnode[0],mainnode[1],interestnode[0],interestnode[1],'grey','0.2%')

			angle = Math.random()*360
			radius = averagedistance + (radiusdeviation*Math.random())

			xvalue = interestnode[0] + radius*Math.cos(angle*Math.PI/180)
			yvalue = interestnode[1] + radius*Math.sin(angle*Math.PI/180)

			neighbour1 = [226.88548833806917, 224.6347675123611]

			angle = Math.random()*360
			radius = averagedistance + (radiusdeviation*Math.random())

			xvalue = interestnode[0] + radius*Math.cos(angle*Math.PI/180)
			yvalue = interestnode[1] + radius*Math.sin(angle*Math.PI/180)

			neighbour2 = [272.528069858692, 316.71010460844485]

			drawDot(endSlidesvg,neighbour1[0],neighbour1[1], '0.3%', 'red')
			drawDot(endSlidesvg,neighbour2[0],neighbour2[1], '0.3%', 'red')
			drawLine(endSlidesvg,neighbour1[0],neighbour1[1],interestnode[0],interestnode[1],'grey','0.2%')
			drawLine(endSlidesvg,neighbour2[0],neighbour2[1],interestnode[0],interestnode[1],'grey','0.2%')

			neighbourConnectionData[interestnode[0] + ',' + interestnode[1]] = [neighbour1,neighbour2]


			prange = getPossibilityRange(interestnode, mainnode)

			console.log(prange)

			angles = pickAngleInRange(prange[0],prange[1],prange[4])

			console.log(angles)

			for (i = 0; i < angles.length; i++) {
				angle = angles[i]
				radius = averagedistance + (radiusdeviation*Math.random())

				xvalue = interestnode[0] + radius*Math.cos(angle*Math.PI/180)
				yvalue = interestnode[1] + radius*Math.sin(angle*Math.PI/180)
				drawDot(endSlidesvg,xvalue,yvalue, '0.3%', 'orange')

			}


		}

	





		slide1svg = document.getElementById('slide1svg')

		function drawVerticalLines(divId) {
			for (i = 1; i < 100; i++) {
				colorchosen = 'hsla(' + parseInt(i*3.58) + ',100%,50%,0.2)'
				deviation = Math.random()*0;
				drawLine(divId, i+deviation+'%', '0%', i+deviation+'%', Math.random()*30 +'%', colorchosen,0.3)
			}
		}


		drawVerticalLines(slide1svg)

		slide2svg = document.getElementById('slide2svg')

		function addBallAndSensors(divId) {
			var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
			circleElement.setAttribute('r','6%');
			circleElement.setAttribute('cx','65%');
			circleElement.setAttribute('cy','30%');
			circleElement.style.fill = 'rgba(0,200,255,0.07)'
			circleElement.style.strokeWidth = '0';
			circleElement.setAttribute('id','outersensor');
			divId.appendChild(circleElement);
			var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
			circleElement.setAttribute('r','4%');
			circleElement.setAttribute('cx','65%');
			circleElement.setAttribute('cy','30%');
			circleElement.style.fill = 'rgba(0,200,255,0.07)'
			circleElement.style.strokeWidth = '0';
			circleElement.setAttribute('id','innersensor');
			divId.appendChild(circleElement);
			var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
			circleElement.setAttribute('r','2%');
			circleElement.setAttribute('cx','65%');
			circleElement.setAttribute('cy','30%');
			circleElement.style.fill = 'rgba(0,200,255,0.6)'
			circleElement.style.strokeWidth = '0';
			circleElement.setAttribute('id','ball');
			divId.appendChild(circleElement);

			colorchoices = ['rgba(255, 132, 10, 0.64)','rgba(255, 222, 10, 0.64)']

			for (i = 0; i < 10; i++) {
				var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
				circleElement.setAttribute('r','1%');
				circleElement.setAttribute('cx',Math.random()*100 + '%');
				circleElement.setAttribute('cy', Math.random()*100 + '%');
				circleElement.style.fill = colorchoices[parseInt(Math.random()*(colorchoices.length))];
				circleElement.style.strokeWidth = '0';
				circleElement.setAttribute('class','obstacle');
				divId.appendChild(circleElement);
			}

		}

		function outersensorchangein(event) {
			document.getElementById('outersensor').style.fill = 'rgba(138,43,226,0.1)'
		}

		function outersensorchangeout(event) {
			document.getElementById('outersensor').style.fill = 'rgba(0,200,255,0.07)'
		}

		function innersensorchangein(event) {
			document.getElementById('innersensor').style.fill = 'rgba(138,43,226,0.1)'
		}

		function innersensorchangeout(event) {
			document.getElementById('innersensor').style.fill = 'rgba(0,200,255,0.07)'
		}


		addBallAndSensors(slide2svg)

		document.getElementById('outersensor').addEventListener('mouseover', outersensorchangein)
		document.getElementById('outersensor').addEventListener('mouseout', outersensorchangeout)

		document.getElementById('innersensor').addEventListener('mouseover', innersensorchangein)
		document.getElementById('innersensor').addEventListener('mouseout', innersensorchangeout)



		

		slide3svg = document.getElementById('slide3svg')

		function drawGridSquare(divId,xcor,ycor, side, fillcolor) {
			var rectElement = document.createElementNS("http://www.w3.org/2000/svg", 'rect');
			rectElement.setAttribute('width',side);
			rectElement.setAttribute('height',side);
			rectElement.setAttribute('x',xcor);
			rectElement.setAttribute('y',ycor);
			rectElement.style.fill = fillcolor
			rectElement.style.strokeWidth = '0';
			divId.appendChild(rectElement);
		}

		function drawGridSquares() {
			gridsqSize = 40;
			colorchoices = ['rgba(0,200,255,0.6)','rgba(0,140,255,0.6)']
			for (i=0; i < 30; i++) {
				fillcolorchoice = colorchoices[parseInt(Math.random()*(colorchoices.length))];
				posX = Math.random()*window.innerWidth;
				posY = Math.random()*window.innerHeight;
				drawGridSquare(slide3svg, posX, posY, gridsqSize, fillcolorchoice)
			}
		}

		drawGridSquares()




		slide4dots = document.getElementById('slide4dots')

		function drawDot(divId,xcor,ycor, radius, color) {
			var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
			circleElement.setAttribute('r',radius);
			circleElement.setAttribute('cx',xcor);
			circleElement.setAttribute('cy',ycor);
			circleElement.style.fill = color
			circleElement.style.strokeWidth = '0';
			divId.appendChild(circleElement);
		}

		function drawLine(divId,initxcor,initycor, finalxcor, finalycor, color, strokewidth) {
			var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
			lineElement.setAttribute('x1',initxcor);
			lineElement.setAttribute('y1',initycor);
			lineElement.setAttribute('x2',finalxcor);
			lineElement.setAttribute('y2',finalycor);
			lineElement.style.stroke = color
			lineElement.style.strokeWidth = strokewidth+'%';
			divId.appendChild(lineElement);
		}




		pointsMemory = [];

		function drawConnectingDots(slideOfInterest,type,pointOfInterest) {
			colorchoices = ['rgba(0,200,255,1)','rgba(0,140,255,1)']
			delta = 12;
			radiusDeviation = 0.2;
			radiusBase = 0.33;
			initpointnumber = 50;

			if (type != 'newpoint') {
				for (i = 0; i < initpointnumber; i ++) {
					posX = parseInt(Math.random()*100);
					posY = parseInt(Math.random()*100);
					pointsMemory.push([posX,posY]);
				}

				for (i = 0; i < pointsMemory.length; i ++) {
					p1X = pointsMemory[i][0]*window.innerWidth*0.01;
					p1Y = pointsMemory[i][1]*window.innerHeight*0.01;
					for (j = 0; j < pointsMemory.length; j++) {
						if (pointsMemory[j] != pointsMemory[i]) {
							p2X = pointsMemory[j][0]*window.innerWidth*0.01;
							p2Y = pointsMemory[j][1]*window.innerHeight*0.01;
							distance = Math.sqrt(((p2X-p1X)*(p2X-p1X)) + ((p2Y-p1Y)*(p2Y-p1Y)))
							if (distance < delta*window.innerWidth*0.01) {
								strokecolor = 'rgba(0,0,0,' + (Math.random()*0.1 + 0.01).toString() +')';
								drawLine(slideOfInterest,pointsMemory[i][0]+'%',pointsMemory[i][1]+'%', pointsMemory[j][0]+'%', pointsMemory[j][1]+'%', strokecolor, 0.1)
							}
						}
					}
					radius = Math.random()*radiusDeviation + radiusBase; 
					colorchosen = colorchoices[parseInt(Math.random()*(colorchoices.length))];
					drawDot(slideOfInterest,pointsMemory[i][0]+'%',pointsMemory[i][1]+'%',radius+'%', colorchosen)

				}
			}

			if (type == 'newpoint') {
				p1X = pointOfInterest[0];
				p1Y = pointOfInterest[1];
				pointToBeAdded = [(pointOfInterest[0]/window.innerWidth)*100, (pointOfInterest[1]/window.innerHeight)*100]
				for (j = 0; j < pointsMemory.length; j++) {
					if (pointsMemory[j] != pointsMemory[i]) {
						p2X = pointsMemory[j][0]*window.innerWidth*0.01;
						p2Y = pointsMemory[j][1]*window.innerHeight*0.01;
						distance = Math.sqrt(((p2X-p1X)*(p2X-p1X)) + ((p2Y-p1Y)*(p2Y-p1Y)))
						if (distance < delta*window.innerWidth*0.01) {
							strokecolor = 'rgba(0,0,0,' + (Math.random()*0.1 + 0.01).toString() +')';
							drawLine(slideOfInterest,pointToBeAdded[0]+'%',pointToBeAdded[1]+'%', pointsMemory[j][0]+'%', pointsMemory[j][1]+'%', strokecolor, 0.1)
						}
					}
				}
				radius = Math.random()*radiusDeviation + radiusBase; 
				colorchosen = colorchoices[parseInt(Math.random()*(colorchoices.length))];
				
				drawDot(slideOfInterest,pointToBeAdded[0]+'%',pointToBeAdded[1]+'%',radius+'%', colorchosen)
				pointsMemory.push(pointToBeAdded);
				console.log(pointToBeAdded[0],pointToBeAdded[1])
			}

		}

		function addingdots(event) {
			var rect = slide4dots.getBoundingClientRect();
			posx = event.clientX - rect.left;
			posy = event.clientY - rect.top;
			drawConnectingDots(slide4dots,'newpoint',[posx,posy]);
		}


		drawConnectingDots(slide4dots,'addingmany', [0,0])
		slide4dots.addEventListener('click', addingdots);

		if (window.innerWidth > window.innerHeight) {
			document.getElementById('slide4cover').style.background = 'linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,1), rgba(255,255,255,0))';
		}
		else {
			document.getElementById('slide4cover').style.background = 'linear-gradient(0deg, rgba(255,255,255,0), rgba(255,255,255,1), rgba(255,255,255,0))';
		}

		slide6svg = document.getElementById('slide6svg')

		drawPrism(slide6svg)

		function giveColorSlide6(event) {
			var bRect = slide6svg.getBoundingClientRect();
			posX = event.clientX - bRect.left;
			posY = event.clientY - bRect.top;
			colorchoice = colorPick(posX,posY)
			event.target.style.fill = colorchoice
			event.target.style.stroke = colorchoice
			colorchosenStatus[event.target.id.toString()] = [1,colorPick(posX,posY)]
			
		}

		function linktoMeshGen(event) {
			alldiv = slide6svg.children;
			for (i = 0; i < alldiv.length; i++) {
				element = alldiv[i]
				if (element.tagName == 'polygon') {
					colorchoice = colorPick(element.points[0].x,element.points[0].y);
					element.style.fill = colorchoice;
					element.style.stroke = colorchoice;
					colorchosenStatus[element.id.toString()] = [1,colorPick(posX,posY)];
				}
			}
			window.open('/Experiments/Random-Triangle-Mesh-Generation.html');
		}

		function coloreveryTraingle(svgmain) {
			alldiv = svgmain.children;
			for (i = 0; i < alldiv.length; i++) {
				element = alldiv[i]
				if (element.tagName == 'polygon') {
					colorchoice = colorPick(element.points[0].x,element.points[0].y);
					element.style.fill = colorchoice;
					element.style.stroke = colorchoice;
					colorchosenStatus[element.id.toString()] = [1,colorPick(posX,posY)];
				}
			}
		}


		if (window.innerHeight > window.innerWidth) {
			coloreveryTraingle(slide6svg)
			coloreveryTraingle(endSlidesvg)
		}



		slide6svg.addEventListener('click',linktoMeshGen);
		slide6svg.addEventListener('mouseover',giveColorSlide6);



		slide7svg = document.getElementById('slide7svg')

		for (ind=0; ind<40; ind++) {
			drawDot(slide7svg,Math.random()*window.innerWidth,Math.random()*window.innerHeight, '0.3%', 'rgba(0,140,255,0.4)')
		}
		

		sharkDots = [[12.946979038224416, 47.57142857142857],[ 11.467324290998766, 46],[ 10.110974106041924, 44.57142857142857],[ 12.330456226880395, 44.285714285714285],[ 14.180024660912455, 45.57142857142858],[ 16.029593094944513, 46.14285714285714],[ 17.385943279901355, 47.14285714285714],[ 18.12577065351418 ,48.42857142857142],[ 12.577065351418002, 49],[ 11.713933415536374, 50.57142857142857],[ 10.480887792848335, 52.142857142857146],[ 9.864364981504316, 54.142857142857146],[ 10.850801479654747, 54.85714285714286],[ 12.453760789149198, 53.42857142857142],[ 14.426633785450061, 52.142857142857146],[ 16.52281134401973, 50.857142857142854],[ 18.865598027127003, 48.285714285714285],[ 20.71516646115906 ,47.57142857142857],[ 23.55117139334155 ,46.85714285714286],[ 25.64734895191122 ,46.285714285714285],[ 28.36004932182491, 45.14285714285714],[ 30.702836004932184, 44.57142857142857],[ 33.53884093711467, 43.857142857142854],[ 36.128236744759555, 43.42857142857143],[ 39.33415536374846, 42.857142857142854],[ 42.41676942046856, 42.857142857142854],[ 45.62268803945746,42.42857142857142],[ 49.56843403205919, 43],[ 52.034525277435264, 43.42857142857143],[ 54.37731196054254, 44.42857142857143],[ 57.33662145499383, 45.57142857142858],[ 58.44636251541308, 46.42857142857143],[ 60.04932182490752 ,47.85714285714286],[ 61.035758323057955, 49],[ 60.17262638717632, 50.28571428571429],[ 58.076448828606665, 51.714285714285715],[ 17.50924784217016, 51],[ 19.35881627620222, 51.57142857142857],[ 21.701602959309493, 52],[ 23.181257706535142, 52.28571428571429],[ 25.770653514180026, 52.85714285714286],[ 27.866831072749694, 53.42857142857142],[ 30.456226880394578, 53.42857142857142],[ 33.785450061652284, 54.285714285714285],[ 36.86806411837238, 54.714285714285715],[ 39.33415536374846, 55.00000000000001],[ 39.58076448828607, 55.00000000000001],[ 42.293464858199755, 55.00000000000001],[ 45.62268803945746, 55.42857142857143],[ 48.45869297163995, 55.42857142857143],[ 51.41800246609125, 55.285714285714285],[ 53.144266337854496, 54.285714285714285],[ 55.363748458692974, 53.28571428571428],[ 53.39087546239211, 51.714285714285715],[ 54.00739827373613, 50.71428571428571],[ 54.99383477188656, 50.71428571428571],[ 56.473489519112206, 50.42857142857143],[ 51.17139334155364, 53.28571428571428],[ 47.965474722564736, 50.71428571428571],[ 12.577065351418002, 46],[ 14.796547472256474, 47.714285714285715],[ 16.276202219482123, 49],[ 13.81011097410604, 50.71428571428571],[ 11.713933415536374, 52.85714285714286],[ 12.700369913686806, 51.142857142857146],[ 14.180024660912455, 49.42857142857143],[ 18.618988902589393, 50.28571428571429],[ 23.304562268803945, 49.714285714285715],[ 36.99136868064119, 42.42857142857142],[ 37.11467324290999, 40.42857142857143],[ 36.25154130702836, 38.857142857142854],[ 35.63501849568434, 37],[ 37.36128236744759, 37.42857142857143],[ 38.71763255240444, 39],[ 39.82737361282368, 40.285714285714285],[ 40.4438964241677, 42],[ 43.526510480887794 ,55.42857142857143],[ 43.40320591861899 ,57.85714285714286],[ 43.526510480887794, 60.57142857142858],[ 43.27990135635019, 64],[ 42.66337854500616, 67],[ 41.92355117139334, 69.71428571428572],[ 43.6498150431566, 67.71428571428572],[ 44.75955610357583, 65.71428571428571],[ 45.62268803945746 ,62.42857142857143],[ 46.60912453760789 ,59.285714285714285],[ 46.7324290998767 ,57.14285714285714],[ 53.144266337854496, 52.714285714285715],[ 55.11713933415536 ,52.57142857142857],[ 57.21331689272503 ,51.142857142857146],[ 55.980271270036994, 47.85714285714286],[ 57.82983970406905 ,49.42857142857143],[ 58.076448828606665, 47.42857142857143],[ 58.69297163995068 ,49.42857142857143],[ 49.69173859432799 ,46],[ 51.29469790382244 ,49.714285714285715],[ 53.0209617755857 ,47.57142857142857],[ 54.62392108508015, 46.85714285714286],[ 53.51418002466092 ,45.42857142857143],[ 51.29469790382244 ,45.57142857142858],[ 49.9383477188656 ,48.142857142857146],[ 48.581997533908755, 49.28571428571429],[ 50.55487053020962 ,51.28571428571429],[ 48.33538840937115 ,51.57142857142857],[ 46.7324290998767 ,53.28571428571428],[ 42.66337854500616, 49.142857142857146],[ 42.78668310727497 ,47.57142857142857],[ 45.006165228113446, 45.714285714285715],[ 45.869297163995064 ,45],[ 47.1023427866831 ,47],[ 45.37607891491985, 47.85714285714286],[ 43.89642416769421 ,49.857142857142854],[ 40.32059186189889 ,50.57142857142857],[ 41.92355117139334 ,52.57142857142857],[ 44.26633785450061 ,51.142857142857146],[ 44.75955610357583 ,51.142857142857146],[ 39.33415536374846 ,52.28571428571429],[ 36.00493218249075 ,53],[ 32.552404438964246, 50.42857142857143],[ 34.4019728729963 ,48.714285714285715],[ 37.731196054254006 ,47.42857142857143],[ 40.93711467324291 ,45.714285714285715],[ 41.30702836004932 ,46.285714285714285],[ 37.6078914919852 ,44.142857142857146],[ 36.37484586929716, 47.42857142857143],[ 33.785450061652284, 47.714285714285715],[ 32.059186189889026 ,46.57142857142857],[ 30.949445129469787 ,47.714285714285715],[ 25.64734895191122 ,49],[ 25.400739827373613, 48.42857142857142],[ 27.743526510480887 ,47.285714285714285],[ 27.866831072749694 ,47.285714285714285],[ 20.96177558569667 ,49.714285714285715],[ 24.044389642416768, 50.71428571428571],[ 28.236744759556103 ,51.42857142857142],[ 28.606658446362516 ,50.142857142857146],[ 28.976572133168926 ,48],[ 30.826140567200987 ,51],[ 32.675709001233045 ,52],[ 32.182490752157825 ,53.28571428571428],[ 34.2786683107275 ,51.57142857142857],[ 39.08754623921085, 50.71428571428571],[ 36.621454993834774, 50.28571428571429],[ 36.49815043156597 ,51.142857142857146],[ 39.21085080147966 ,47.285714285714285],[ 36.49815043156597 ,45.714285714285715],[ 33.785450061652284, 45.714285714285715],[ 41.92355117139334 ,44.42857142857143],[ 43.6498150431566 ,44.42857142857143],[ 46.9790382244143 ,44.42857142857143],[ 48.581997533908755, 45.285714285714285],[ 52.28113440197287 ,45.285714285714285],[ 25.64734895191122 ,51.142857142857146],[ 27.62022194821208 ,49.42857142857143],[ 44.14303329223181 ,57.14285714285714],[ 43.6498150431566 ,59.285714285714285],[ 44.75955610357583, 57.99999999999999],[ 44.26633785450061 ,60.285714285714285],[ 43.77311960542541 ,63],[ 44.636251541307026, 64],[ 45.37607891491985 ,60.42857142857143],[ 45.99260172626387 ,57.714285714285715],[ 38.71763255240444 ,41.85714285714286],[ 37.4845869297164 ,39.57142857142858],[ 36.744759556103574, 38.42857142857143],[ 55.73366214549939 ,46.57142857142857],[ 23.181257706535142, 48.714285714285715],[ 21.948212083847103 ,50.57142857142857],[ 22.318125770653513 ,48.285714285714285],[ 38.964241676942045 ,56.00000000000001],[ 38.47102342786683 ,57.99999999999999],[ 38.10110974106042 ,59.857142857142854],[ 39.82737361282368 ,59.285714285714285],[ 40.93711467324291 ,57.714285714285715],[ 41.183723797780516, 55.85714285714286],[ 40.197287299630084 ,56.57142857142857],[ 38.84093711467324 ,57.99999999999999],[ 39.457459926017265, 57.285714285714285]]

		for (ind=0; ind<sharkDots.length; ind++) {
			drawDot(slide7svg,sharkDots[ind][0]*0.6 + '%',sharkDots[ind][1]  + '%', '0.3%', 'rgba(0,140,255,0.9)')
		}

		drawDot(slide7svg,'40%','50%', '1%', 'rgba(255,0,0,0.4)')


		

		projectsIntro = document.getElementById('projectsIntro')


		function drawRectangle(divId,xcor,ycor, wdh, hgt, strokecolor) {
			var rectElement = document.createElementNS("http://www.w3.org/2000/svg", 'rect');
			rectElement.setAttribute('width',wdh);
			rectElement.setAttribute('height',hgt);
			rectElement.setAttribute('x',xcor);
			rectElement.setAttribute('y',ycor);
			rectElement.style.stroke = strokecolor
			rectElement.style.strokeWidth = '0.1%';
			rectElement.style.fill = 'None';
			divId.appendChild(rectElement);
		}

		function drawRectangles() {
			colorchoices = ['rgba(255, 132, 10, 0.64)','rgba(255, 222, 10, 0.64)']
			for (i=0; i < 30; i++) {
				strokecolorchoice = colorchoices[parseInt(Math.random()*(colorchoices.length))];
				sizeDeviation = 2;
				sizeBaseW = 2;
				sizeBaseH = (window.innerWidth/window.innerHeight)*sizeBaseW;
				sizew = Math.random()*sizeDeviation + sizeBaseW;
				sizeh = Math.random()*sizeDeviation + sizeBaseH;
				posX = Math.random()*100;
				posY = Math.random()*100;
				drawRectangle(projectsIntro, posX + '%', posY + '%', sizew + '%', sizeh + '%', strokecolorchoice)
			}
		}

		drawRectangles()

		function reactprojectsIntro(event) {
			var bRect = projectsIntro.getBoundingClientRect();
			posX = event.clientX - bRect.left;
			posY = event.clientY - bRect.top;

			colorchoices = ['rgba(255, 132, 10, 0.64)','rgba(255, 222, 10, 0.64)']
			strokecolorchoice = colorchoices[parseInt(Math.random()*(colorchoices.length))];

			sizeDeviation = 2;
			sizeBaseW = 2;
			sizeBaseH = (window.innerWidth/window.innerHeight)*sizeBaseW;
			sizew = Math.random()*sizeDeviation + sizeBaseW;
			sizeh = Math.random()*sizeDeviation + sizeBaseH;

			drawRectangle(projectsIntro, posX, posY, sizew + '%', sizeh + '%', strokecolorchoice)
		}

		projectsIntro.addEventListener('click', reactprojectsIntro);

		function slide10Display() {
			sld10svg = document.getElementById('slide10svg')
			for (i=0; i < 20; i++) {

				var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
				px = Math.random()*50
				py = Math.random()*50
				if (Math.random() < 0.2) {
					px = Math.random()*100
					py = Math.random()*100
				}
				circleElement.setAttribute('cx', px + '%');
				circleElement.setAttribute('cy', py + '%');
				w = Math.random()
				circleElement.setAttribute('id', 'blue ' + i);
				circleElement.setAttribute('r', 0.4 + (w*3) + '%');
				circleElement.setAttribute('vector-effect','non-scaling-stroke');
				circleElement.setAttribute('fill','hsla(10,100%,50%,0.1)')
				sld10svg.appendChild(circleElement);
				circleElement.style.pointerEvents = 'none'

				var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
				circleElement.setAttribute('cx', px + '%');
				circleElement.setAttribute('cy', py + '%');
				circleElement.setAttribute('id', 'blue ' + i);
				circleElement.setAttribute('r', 0.4 + (w*0.3) + '%');
				circleElement.setAttribute('vector-effect','non-scaling-stroke');
				circleElement.setAttribute('fill','hsla(10,100%,50%,1)')
				sld10svg.appendChild(circleElement);
				circleElement.style.pointerEvents = 'none'


			}

			for (i=0; i < 20; i++) {
				var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
				px = 30 + Math.random()*80
				py = 50 + Math.random()*50
				if (Math.random() < 0.2) {
					px = Math.random()*100
					py = Math.random()*100
				}
				circleElement.setAttribute('cx', px + '%');
				circleElement.setAttribute('cy', py + '%');
				w = Math.random()
				circleElement.setAttribute('id', 'red ' + i);
				circleElement.setAttribute('r', 0.4 + (w*3) + '%');
				circleElement.setAttribute('vector-effect','non-scaling-stroke');
				circleElement.setAttribute('fill','hsla(190,100%,50%,0.1)')
				sld10svg.appendChild(circleElement);
				circleElement.style.pointerEvents = 'none'

				var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
				circleElement.setAttribute('cx', px + '%');
				circleElement.setAttribute('cy', py + '%');
				circleElement.setAttribute('id', 'red ' + i);
				circleElement.setAttribute('r', 0.4 + (w*0.3) + '%');
				circleElement.setAttribute('vector-effect','non-scaling-stroke');
				circleElement.setAttribute('fill','hsla(190,100%,50%,1)')
				sld10svg.appendChild(circleElement);
				circleElement.style.pointerEvents = 'none'
			}
		}

		slide10Display()
			
		function drawDotslide12(divId,xcor,ycor, radius, color, cid) {
			var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
			circleElement.setAttribute('r',radius);
			circleElement.setAttribute('cx',xcor);
			circleElement.setAttribute('cy',ycor);
			circleElement.setAttribute('id',cid);
			circleElement.style.fill = color
			circleElement.style.strokeWidth = '0';
			divId.appendChild(circleElement);
		}


		wordidmap = {}

		var econwords = econwords
		var biowords = biowords

		wordsholder = [biowords, econwords]
		subjects = ['BIOLOGY','ECONOMICS']

		slide12svg = document.getElementById('slide12svg')
		brainconnsvg = document.getElementById('slide12brainconnsvg')

		subjectcolors = ['190','240','290']

		datasecpts = {}

		document.getElementById('infoholder').style.fontFamily = 'Calibri'


		function overNode(event) {
			snum = wordidmap[event.target.id][0]
			wnum = wordidmap[event.target.id][1]
			word = wordsholder[snum][wnum][0].charAt(0).toUpperCase() + wordsholder[snum][wnum][0].slice(1);
			document.getElementById('infoholder').innerHTML = '<span style="font-size: 0.7vw; color: hsla(190,100%,0%,1);">' +word + '</span><br/><span style="font-size: 0.7vw; color: hsla(' + subjectcolors[snum] + ',100%,50%,1);">' + subjects[snum] + '</span>'
			var rect = document.getElementById('containBraintexts').getBoundingClientRect();
			var x = event.clientX - rect.left; //x position within the element.
			var y = event.clientY - rect.top;
			document.getElementById('infoholder').style.left = x + 'px'
			document.getElementById('infoholder').style.top = y + 'px'
			document.getElementById('infoholder').style.transform = 'translate(' + ((1)*x) + 'px, ' + ((1)*y) + 'px)' 

		}

		function createneurons(subjectnum,xl,xu,yl,yu, jerkx, jerky) {
			xlrange = xl
			xurange = xu
			ylrange = yl
			yurange = yu
			wordsfromsub = wordsholder[subjectnum].length
			if (wordsholder[subjectnum].length > 80) {
				wordsfromsub = 80
			}
			for (m = 0; m < wordsfromsub; m++) {
				jerk = Math.random()*10
				xpos = (jerk*jerkx) + xlrange + Math.random()*(xurange - xlrange)
				xps = xpos
				xpos = xpos + '%'
				jerk = Math.random()*10
				ypos = (jerk*jerky) + ylrange + Math.random()*(yurange - ylrange)
				yps = ypos
				ypos = ypos + '%'
				rval = 0.3 + (Math.random()*0.2)  + '%'
				drawDotslide12(slide12svg, xpos, ypos, rval, 'hsla(' + subjectcolors[subjectnum] + ',100%,50%,' + (0.2 + Math.random()*0.4) +  ')', subjectnum + '-' + m)
				document.getElementById(subjectnum + '-' + m).addEventListener('mouseover', overNode)
				document.getElementById(subjectnum + '-' + m).setAttribute('onclick', "window.open('" + wordsholder[subjectnum][m][2] + "')")
				wordidmap[subjectnum + '-' + m] = [subjectnum,m,xpos, ypos, xps, yps]
				document.getElementById(subjectnum + '-' + m).style.cursor = 'pointer'
				
				// Locationtracing
				seq = parseInt(xps/3) + "-" + parseInt(yps/3)
				if (typeof datasecpts[seq] == 'undefined') {
					datasecpts[seq] = []
				}
				datasecpts[seq].push([xps, yps])
			}
		}

		createneurons(0, 0, 100, 0, 50, 0, 1)
		createneurons(1, 0, 100, 50, 100, -1 , 0 )

		function drawLineslide12(divId,initxcor,initycor, finalxcor, finalycor, color, strokewidth) {
			var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
			lineElement.setAttribute('x1',initxcor);
			lineElement.setAttribute('y1',initycor);
			lineElement.setAttribute('x2',finalxcor);
			lineElement.setAttribute('y2',finalycor);
			lineElement.style.stroke = color
			lineElement.style.strokeWidth = strokewidth+'%';
			divId.appendChild(lineElement);
		}

		

		document.getElementById('slide12Texts').style.pointerEvents = 'none'
		document.getElementById('diveIn12').style.pointerEvents = 'auto'

		if (window.innerWidth > window.innerHeight) {
			document.getElementById('slide12cover').style.background = 'linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,1), rgba(255,255,255,0))';
		}
		else {
			document.getElementById('slide12cover').style.background = 'linear-gradient(0deg, rgba(255,255,255,0), rgba(255,255,255,1), rgba(255,255,255,0))';
		}

	
		</script>
		
		<!-- <script type="text/javascript">
			function scrollcalc(event) {
				var d = new Date();
				scrldata.push([d.getTime(),document.body.scrollTop])
			}
			window.addEventListener("scroll", scrollcalc);
		</script>
		 -->
		<!-- <script>

			var config = {
				apiKey: "AIzaSyArJkAsZBO3mYesyf74qT4HGbz2eW7rFkg",
				authDomain: "website-prajwal.firebaseapp.com",
				databaseURL: "https://website-prajwal.firebaseio.com",
				storageBucket: "website-prajwal.appspot.com"
			};
			firebase.initializeApp(config);

			var rootRef = firebase.database().ref()
			var storesRef = rootRef.child('scrollData/');
			var newStoreRef = storesRef.push();

			var docheight = Math.max( document.body.scrollHeight, document.body.offsetHeight, 
				       document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight );


			window.onbeforeunload = closingCode;
			function closingCode(){
				newStoreRef.set({
					'page': "mainWebsite",
					'pageheight' : docheight,
					'navigatordata' : [navigator.platform, navigator.language, navigator.appVersion, navigator.vendor, navigator.product, screen.width, screen.height, screen.colorDepth, screen.pixelDepth, history.length],
					"scrolldata": scrldata
				});
			}

			scrldata = []



		</script>
 -->

	</body>
<html>
