<html>
	<head>
		<title>Project Eureka - Prajwal DSouza</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<link href='https://fonts.googleapis.com/css?family=Alegreya Sans SC' rel='stylesheet'>
		<link href='https://fonts.googleapis.com/css?family=Handlee' rel='stylesheet'>
		<link href='https://fonts.googleapis.com/css?family=McLaren' rel='stylesheet'>
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Gaegu" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Itim" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Patrick+Hand+SC" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Calibri:400,700,400italic,700italic" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Averia+Sans+Libre" rel="stylesheet">

		<!-- <style type="text/css">
			a {
				cursor: pointer;
			}
		</style> -->

		<link rel="stylesheet" href="eurekafiles/eureka.css"/>
		
		<!-- Google Analytics Code -->
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-103589215-2', 'auto');
		  ga('send', 'pageview');

		</script>
		<script type="application/ld+json">
			{
			  "@type": "Project",
			  "name": "Eureka",
			  "author": "Prajwal DSouza",
			  "description": "A search for distant neurons"
			  }
		</script>
		  <meta charset="UTF-8">
		  <meta name="description" content="A search for distant neurons.">
		  <meta name="keywords" content="project, eureka,undiscovered public knowledge, simulations">
		  <meta name="author" content="Prajwal DSouza">
		  <meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<link rel="icon" href="../square.png">
		
	</head>
	<body style='margin:0px; display: block;'>
		<div id="containMainUI" style='margin:0px;width:100%; height: 100%; overflow: hidden;'> 
			<div id="MainUI" style='margin:0px; overflow: hidden;'> 
				<div id="MainUIblocks" style='margin:0px; overflow: hidden;'> 
					<div id="topic1holder"> 
						<div id="topic1spacer1"> </div>
						<div id="topic1neuron">
							<svg id='neuron1Svg' height="100%" width="100%" viewBox="0 0 100 100" >
							<circle id="topic1neuroncirc" cx="50%" cy="50%" r="30%" stroke-width="0" fill="hsla(190,100%,50%,1)" vector-effect="non-scaling-stroke" />
							</svg>
						 </div>
						<div id="topic1name"> Interference </div>
						<div id="topic1subject"> PHYSICS </div>
						<div id="topic1description"> In physics, interference is a phenomenon in which two waves superpose to form a resultant wave of greater, lower, or the  same amplitude.
						</div>
						<div id="topic1spacer2"> </div>
					</div>
					<div id="topic2holder">
						<div id="topic2spacer1"> </div>
						<div id="topic2neuron"> 
						<svg id='neuron1Svg' height="100%" width="100%" viewBox="0 0 100 100" >
							<circle id="topic2neuroncirc" cx="50%" cy="50%" r="20%" stroke-width="0" fill="hsla(260,100%,50%,1)" vector-effect="non-scaling-stroke" />
						</svg>
						</div>
						<div id="topic2name"> Ascent of Sap</div>
						<div id="topic2subject">BIOLOGY </div>
						<div id="topic2description">The ascent of sap in the xylem tissue of plants is the upward movement of water and minerals from the root to the crown. ... </div>
						<div id="topic2spacer2"> </div>
					</div>
				</div>
				<div id="MainUIcomponents" style='margin:0px; overflow: hidden;'> 
					<div id="UIspacer1"> </div>
					<div id="UIquestions">Can they both be related? <br/> Are they both related? </div>
					<div id="UIneuronconnection">
						<svg id='neuronconnSvg' height="100%" width="100%" viewBox="0 0 100 100" preserveAspectRatio="none">
						<line id="neuronconnline" x1="25%" y1="50%" x2="75%" y2="50%" style="stroke:hsla(190,0%,0%,0.1);stroke-width:1.4" />
						</svg>
					 </div>
					<div id="UIspacer2"> </div>
					<div id="UIoptions"> 
						<div id="optionspacer1"> </div>
						<div id="optionYes"><div id="optionYesname">Yes</div></div>
						<div id="optionspacerA1"> </div>
						<div id="optionMaybe"><div id="optionMaybename">Maybe</div></div>
						<div id="optionspacerA2"> </div>
						<div id="optionNo"><div id="optionNoname">No</div></div>
						<div id="optionspacerA3"> </div>
						<div id="optionSkip"><div id="optionSkipname">Skip</div></div>
						<div id="optionspacer2"> </div>
					</div>
					<div id="UIabout" onclick="document.getElementById('containBrainFull').scrollIntoView({behavior: 'smooth'});" target = "_self"> <div id="UIaboutname">What's this about?</div> </div>
				</div>
				<div id="MainUInext" style='margin:0px; overflow: hidden;'> 
					<div id="nextspacer1"> </div>
					<div id="nextrelateText"> <div id="nextrelateTextcontent"> How can you relate them? </div> </div>
					<input type="text" id="textinputExplanation" placeholder="If you found a way to connect the topics, type it here. " class="advancedSearchTextBox" />
					<div id="nextspacer3"> </div>
					<div id="nextoptions"> 
						<div id="nextoptionspacer1"> </div>
						<div id="nextoptionSubmit"><div id="nextoptionSubmitname">Submit</div></div>
						<div id="nextoptionspacerA1"> </div>
						<div id="nextoptionSkip"><div id="nextoptionSkipname">Skip</div></div>
						<div id="nextoptionspacer2"> </div>
					</div>
					<div id="nextspacer6"> </div>
				</div>
			</div>
		</div>
		<div id="containSubjects" style='margin:0px;width:100%; height: 100%; overflow: hidden;'> 
			<div id="subjectsHead">
				<div id="subjectsHeadspacer"></div>
				<div id="subjectsHeadname">
					<div id="subjectsHeadnameH">Subjects</div>
				</div>
				<div id="subjectsHeaddesc">
					<div id="subjectsHeaddescH">Random topics/concepts are chosen from these glossaries
					</div>
				</div>
			</div>
			<div id="subjectbio">
				<div id="subjectbiosvg">
					<svg id='neuronbio' height="100%" width="100%" viewBox="0 0 100 100" >
						<circle id="neuronbiocirc" cx="50%" cy="70%" r="20%" stroke-width="0" fill="hsla(150,100%,40%,1)" vector-effect="non-scaling-stroke" />
					</svg>
				</div>
				<div id="subjectbioname">
					<div id="subjectbionameH">Biology</div>
				</div>
				<div id="subjectbiodesc">
					<div id="subjectbiodescH">Wikipedia Glossary of Biology</div>
				</div>
			</div>
			<div id="subjectphysics">
				<div id="subjectphysicssvg">
					<svg id='neuronphysics' height="100%" width="100%" viewBox="0 0 100 100" >
						<circle id="neuronphysicscirc" cx="50%" cy="70%" r="20%" stroke-width="0" fill="hsla(190,100%,40%,1)" vector-effect="non-scaling-stroke" />
					</svg>
				</div>
				<div id="subjectphysicsname">
					<div id="subjectphysicsnameH">Physics</div>
				</div>
				<div id="subjectphysicsdesc">
					<div id="subjectphysicsdescH">Physics and Astronomy Classification Scheme</div>
				</div>
			</div>
			<div id="subjectai">
				<div id="subjectaisvg">
					<svg id='neuronai' height="100%" width="100%" viewBox="0 0 100 100" >
						<circle id="neuronaicirc" cx="50%" cy="70%" r="20%" stroke-width="0" fill="hsla(260,100%,40%,1)" vector-effect="non-scaling-stroke" />
					</svg>
				</div>
				<div id="subjectainame">
					<div id="subjectainameH">Artificial Intelligence</div>
				</div>
				<div id="subjectaidesc">
					<div id="subjectaidescH">Wikipedia Glossary of Artificial Intelligence</div>
				</div>
			</div>
			<div id="subjectecon">
				<div id="subjecteconsvg">
					<svg id='neuronsecon' height="100%" width="100%" viewBox="0 0 100 100" >
						<circle id="neuroneconcirc" cx="50%" cy="70%" r="20%" stroke-width="0" fill="hsla(310,100%,40%,1)" vector-effect="non-scaling-stroke" />
					</svg>
				</div>
					<div id="subjecteconname">
					<div id="subjecteconnameH">Economics</div>
				</div>
				<div id="subjectecondesc">
					<div id="subjectecondescH">Wikipedia Glossary of Economics</div>
				</div>
			</div>
			<div id="subjectblank"><div id="subjectblanksvg"></div><div id="subjectblankname">You can disable/enable their usage in the random selection by clicking on them. </div><div id="subjectblankdesc"> </div></div>
		</div>
		<div id="containBrainFull" style='margin:0px;width:100%; height: 200%; overflow: hidden;'>
			<div id="containBraintexts" style='margin:0px;width:100%; height: 200%;'>
				<div id='infoholder'></div>
			</div>
			<div id="containBrainBack" style='margin:0px;width:100%; height: 200%;'>
				<svg id='brainsvg' height="100%" width="100%" viewBox="0 0 100 100">
					
				</svg>
			</div>
			<div id="containBrainBackConn" style='margin:0px;width:100%; height: 200%;'>
				<svg id='brainconnsvg' height="100%" width="100%" viewBox="0 0 100 100" >
					
				</svg>
			</div>
			<div id="containBrain" style='margin:0px;width:100%; height: 100%; position: relative;'> 
				<div id="brainspacer1"></div>
				<div id="brainspacer2"></div>
				<div id="brainTitle">
					<div id="projectnamespacer"></div>
					<div id="projectnameH"><div id="projectname">Eureka</div></div>
					<div id="projectdescH"><div id="projectdesc">A search for distant neural connections</div></div>
				</div>
				<div id="brainspacer3"></div>
				<div id="abouttheproject">
					<div id="abouttheprojectdata">
					In 1986, Don Swanson, an information theorist proposed the idea of "undiscovered public knowledge". He started finding patterns in scientific literature which at first glance didn’t seem to have an common citations, but were on similar topics and were related on certain level. <br/><br/>

					He wrote certain software to find such connections. <br/><br/>

					In this project, we start in a slightly different direction. We start with some random topics and then we asked the question, “Is there is a connection between the topics?” or “Is there a way I can connect the topics in a way no one ever has?” <br/><br/>

					The belief is that the “Eureka moment” happens when such connections happen and this is a search for such connection. There are lot of redundant possibilities. But, once in a while, we hope, something might just click.	<br/><br/>
					<a href="https://prajwalsouza.github.io" target="_blank" style="text-decoration: none;  color: hsla(190,100%,50%,1); pointer-events: auto; cursor: pointer;">
						prajwalsouza.github.io
					</a>
					</div>
				</div>
				<div id="brainspacer5"></div>
				<div id="brainspacer6"></div>
				<div id="brainspacer7"></div>
			</div>
		</div>

		
		<script type="text/javascript" src="eurekafiles/physicswordspacs.json"></script>
		<script type="text/javascript" src="eurekafiles/artificialIntelwords.json"></script>
		<script type="text/javascript" src="eurekafiles/biowords.json"></script>
		<script type="text/javascript" src="eurekafiles/economicswords.json"></script>

		<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-database.js"></script>

		<script type="text/javascript">

		var config = {
			apiKey: "AIzaSyArJkAsZBO3mYesyf74qT4HGbz2eW7rFkg",
			authDomain: "website-prajwal.firebaseapp.com",
			databaseURL: "https://website-prajwal.firebaseio.com",
			storageBucket: "website-prajwal.appspot.com"
		};
		firebase.initializeApp(config);

		var rootRef = firebase.database().ref()
		var storesRef = rootRef.child('eurekaEventData/');
		var newStoreRef = storesRef.push();

		// To delete data
		// storesRef.remove();

		// To save data
		window.onbeforeunload = closingCode;

		function closingCode(){
			newStoreRef.set({
				'project': "Eureka",
				'eventdata' : eventdirectory,
				"datalength": eventdirectory.length
			});
		}	

		function readData() {
			storesRef.on("value", function(snapshot) {
				console.log(snapshot.val());
			}, function (errorObject) {
				console.log("The read failed: " + errorObject.code);
			});
		}

		// readData()


		

		colorsBySubject = {}

		colorsBySubject['BIOLOGY'] = '190'
		colorsBySubject['PHYSICS'] = '240'
		colorsBySubject['ARTIFICIAL INTELLIGENCE'] = '290'
		colorsBySubject['ECONOMICS'] = '340'

		subjectcolors = ['190','240','290','340']


		document.getElementById('neuronphysicscirc').style.fill = 'hsla(' + colorsBySubject['PHYSICS'] + ',100%,50%,1)'
		document.getElementById('neuronbiocirc').style.fill = 'hsla(' + colorsBySubject['BIOLOGY'] + ',100%,50%,1)'
		document.getElementById('neuronaicirc').style.fill = 'hsla(' + colorsBySubject['ARTIFICIAL INTELLIGENCE'] + ',100%,50%,1)'
		document.getElementById('neuroneconcirc').style.fill = 'hsla(' + colorsBySubject['ECONOMICS'] + ',100%,50%,1)'

		// data

		var econwords = econwords
		var aiwords = artificialIntelwords
		var biowords = biowords
		var physicswords = physicswords

		wordsholder = [biowords, physicswords, aiwords, econwords]



		function chooseWords(subject1, subject2) {
			if(subject1 == 'ECONOMICS'){
				chosenword = econwords[parseInt(Math.random()*(econwords.length))]
			}
			else if(subject1 == 'ARTIFICIAL INTELLIGENCE'){
				chosenword = aiwords[parseInt(Math.random()*(aiwords.length))]
			}
			else if(subject1 == 'BIOLOGY'){
				chosenword = biowords[parseInt(Math.random()*(biowords.length))]
			}
			else if(subject1 == 'PHYSICS'){
				chosenword = physicswords[parseInt(Math.random()*(physicswords.length))]
			}

			chosenword1 = chosenword[0].charAt(0).toUpperCase() + chosenword[0].slice(1);
			chosenword1sub = subject1
			chosenword1desc = chosenword[1]
			link1 = "window.open('" + chosenword[2] + "')"

			if(subject2 == 'ECONOMICS'){
				chosenword = econwords[parseInt(Math.random()*(econwords.length))]
			}
			else if(subject2 == 'ARTIFICIAL INTELLIGENCE'){
				chosenword = aiwords[parseInt(Math.random()*(aiwords.length))]
			}
			else if(subject2 == 'BIOLOGY'){
				chosenword = biowords[parseInt(Math.random()*(biowords.length))]
			}
			else if(subject2 == 'PHYSICS'){
				chosenword = physicswords[parseInt(Math.random()*(physicswords.length))]
			}

			
			chosenword2 = chosenword[0].charAt(0).toUpperCase() + chosenword[0].slice(1);
			chosenword2sub = subject2
			chosenword2desc = chosenword[1]
			link2 = "window.open('" + chosenword[2] + "')"

			document.getElementById('topic1name').innerHTML = chosenword1
			document.getElementById('topic1subject').innerHTML = chosenword1sub
			document.getElementById('topic1description').innerHTML = chosenword1desc
			document.getElementById('topic2name').innerHTML = chosenword2
			document.getElementById('topic2subject').innerHTML = chosenword2sub
			document.getElementById('topic2description').innerHTML = chosenword2desc


			document.getElementById('topic1name').setAttribute('onclick', link1)
			document.getElementById('topic1subject').setAttribute('onclick', link1)
			document.getElementById('topic1description').setAttribute('onclick', link1) 

			document.getElementById('topic2name').setAttribute('onclick', link2)
			document.getElementById('topic2subject').setAttribute('onclick', link2)
			document.getElementById('topic2description').setAttribute('onclick', link2) 

			c1 = colorsBySubject[chosenword1sub]
			c2 = colorsBySubject[chosenword2sub]

			document.getElementById('containMainUI').style.backgroundImage = 'linear-gradient(to right, hsla(' + c1 + ',100%,50%,1), hsla(' + c2 + ',100%,50%,1))'
			document.getElementById('topic1subject').style.color = 'hsla(' + c1 + ',100%,50%,1)'
			document.getElementById('topic2subject').style.color = 'hsla(' + c2 + ',100%,50%,1)'

			document.getElementById('topic1neuroncirc').setAttribute('fill', 'hsla(' + c1 + ',100%,50%,1)')
			document.getElementById('topic2neuroncirc').setAttribute('fill', 'hsla(' + c2 + ',100%,50%,1)')

			document.getElementById('topic2holder').style.background = 'hsla(' + c2 + ',100%,50%,0.02)';

			eventdetails.push(chosenword1)
			eventdetails.push(chosenword2)


		}

		subjects = ['BIOLOGY','PHYSICS', 'ARTIFICIAL INTELLIGENCE' ,'ECONOMICS']

		subjectsL = ['subjectbio','subjectphysics','subjectai','subjectecon']
		subjectT = [1,1,1,1]

		function addSubject(sname, shue, slabel, sstorage, sglossaryname) {
			
		}

		eventdirectory = []

		eventdetails = []

		function pickoptions() {
			eventdetails = []
			var d = new Date();
			uid = parseInt(Math.random()*100)

			availableSub = []
			for (k=0 ; k < subjects.length; k++) {
				if (subjectT[k] == 1) {
					availableSub.push(subjects[k])
				}
			}
			sub1 = availableSub[parseInt(Math.random()*(availableSub.length))];
			sub2 = availableSub[parseInt(Math.random()*(availableSub.length))];

			eventdetails.push(uid)
			eventdetails.push(d.toString())
			eventdetails.push(sub1)
			eventdetails.push(sub2)
			chooseWords(sub1,sub2)
		}

		

		function optionhover(event) {
			event.target.style.background = 'hsla(190, 100%, 0%, 0.5)'
			event.target.style.color = 'white'
			opindex = options.indexOf(event.target.id)
			document.getElementById('neuronconnline').style.stroke = 'hsla(190,0%,0%,' + optionsEffects[opindex] + ')'
		}

		function optionmouseout(event) {
			event.target.style.background = 'hsla(190, 100%, 0%, 0)'
			event.target.style.color = 'black'
			document.getElementById('neuronconnline').style.stroke = 'hsla(190,0%,0%,0.1)'
		}

		function optionclick(event) {
			if (event.target.id == 'optionSkip') {
				eventdetails.push('')
				eventdetails.push('')
				eventdirectory.push(eventdetails)
				pickoptions()
			}
			else if (event.target.id == 'optionYes') {
				document.getElementById('nextrelateTextcontent').innerHTML = 'So, how can you relate them?'
				moveuptopics()
				opindex = options.indexOf(event.target.id)
				document.getElementById('neuronconnline').style.stroke = 'hsla(190,0%,0%,' + optionsEffects[opindex] + ')'
				for(opt = 0; opt < options.length; opt ++) {
					document.getElementById(options[opt]).removeEventListener('mouseout', optionmouseout)
				}
				eventdetails.push('Yes')
			}
			else if (event.target.id == 'optionMaybe') {
				document.getElementById('nextrelateTextcontent').innerHTML = 'What could be the connection?'
				moveuptopics()
				opindex = options.indexOf(event.target.id)
				document.getElementById('neuronconnline').style.stroke = 'hsla(190,0%,0%,' + optionsEffects[opindex] + ')'
				for(opt = 0; opt < options.length; opt ++) {
					document.getElementById(options[opt]).removeEventListener('mouseout', optionmouseout)
				}
				eventdetails.push('Maybe')
			}
			else if (event.target.id == 'optionNo') {
				eventdetails.push('No')
				eventdetails.push('')
				eventdirectory.push(eventdetails)
				pickoptions()
			}

			for(opt = 0; opt < options.length; opt ++) {
				document.getElementById(options[opt]).style.background = 'hsla(190, 100%, 0%, 0)'
				document.getElementById(options[opt]).style.color = 'black'
			}
		}

		options = ['optionYes','optionNo','optionMaybe','optionSkip']
		optionsEffects = ['0.9','0.01','0.4','0.1']

		for(opt = 0; opt < options.length; opt ++) {
			document.getElementById(options[opt]).addEventListener('mouseover', optionhover)
			document.getElementById(options[opt]).addEventListener('mouseout', optionmouseout)
			document.getElementById(options[opt]).addEventListener('click', optionclick)
		}


		function optionnexthover(event) {
			event.target.style.background = 'hsla(190, 100%, 0%, 0.5)'
			event.target.style.color = 'white'
		}

		function optionnextmouseout(event) {
			event.target.style.background = 'hsla(190, 100%, 0%, 0)'
			event.target.style.color = 'black'
		}

		function optionnextclick(event) {
			for(opt = 0; opt < options.length; opt ++) {
				document.getElementById(options[opt]).addEventListener('mouseout', optionmouseout)
			}
			if (event.target.id == optionsnext[0]) {
				eventdetails.push(document.getElementById("textinputExplanation").value)
			}
			else if (event.target.id == optionsnext[1]) {
				eventdetails.push('')
			}
			moveuptopicsback()

			eventdirectory.push(eventdetails)
			pickoptions()
		}

		optionsnext = ['nextoptionSubmit','nextoptionSkip']

		for(opt = 0; opt < optionsnext.length; opt ++) {
			document.getElementById(optionsnext[opt]).addEventListener('mouseover', optionnexthover)
			document.getElementById(optionsnext[opt]).addEventListener('mouseout', optionnextmouseout)
			document.getElementById(optionsnext[opt]).addEventListener('click', optionnextclick)
		}

		wHratio = (window.innerWidth/window.innerHeight)

		backgap = 0.015

		document.getElementById('MainUI').style.top = (wHratio*backgap)*100 + '%'
		document.getElementById('MainUI').style.height = (100 - 2*(wHratio*backgap)*100) + '%'
		document.getElementById('MainUI').style.left = (backgap)*100 + '%'
		document.getElementById('MainUI').style.width = (100 - 2*(backgap)*100) + '%'

		function moveuptopics() {
			if (window.innerWidth > window.innerHeight) {
				document.getElementById('topic1holder').style.gridTemplateRows = '5% 20% 8% 7% 40% 20%'
				document.getElementById('topic2holder').style.gridTemplateRows = '5% 20% 8% 7% 40% 20%'

				document.getElementById('MainUIcomponents').style.gridTemplateRows = '5% 0% 20% 57% 7% 12%'
				document.getElementById('topic1description').style.visibility = 'hidden'
				document.getElementById('topic2description').style.visibility = 'hidden'
				
			}
			else {
				
				document.getElementById('topic2holder').style.gridTemplateRows = '47% 8% 7% 35% 3%'
			}

			// document.getElementById('topic1description').style.visibility = 'hidden'
			// document.getElementById('topic2description').style.visibility = 'hidden'
			document.getElementById('UIquestions').style.visibility = 'hidden'
			document.getElementById('UIoptions').style.visibility = 'hidden'

			document.getElementById('MainUInext').style.visibility = 'visible'
				
		}

		function moveuptopicsback() {
			if (window.innerWidth > window.innerHeight) {
				document.getElementById('topic1holder').style.gridTemplateRows = '20% 20% 8% 7% 25% 20%'
				document.getElementById('topic2holder').style.gridTemplateRows = '20% 20% 8% 7% 25% 20%'

				document.getElementById('MainUIcomponents').style.gridTemplateRows = '4% 16% 20% 41% 7% 12%'
				document.getElementById('topic1description').style.visibility = 'visible'
				document.getElementById('topic2description').style.visibility = 'visible'
			}
			else {
				document.getElementById('topic2holder').style.gridTemplateRows = '30% 8% 7% 35% 20%'
			}

			// document.getElementById('topic1description').style.visibility = 'visible'
			// document.getElementById('topic2description').style.visibility = 'visible'
			document.getElementById('UIquestions').style.visibility = 'visible'
			document.getElementById('UIoptions').style.visibility = 'visible'

			document.getElementById('MainUInext').style.visibility = 'hidden'
		}

		pickoptions()

		function toggleSubject(event) {
			subind = subjectsL.indexOf(event.target.id)
			if (subjectT[subind] == 1) {
				if (sumArray(subjectT) > 1) {
					event.target.style.backgroundImage = ' radial-gradient(hsla(190,0%,50%,0.2), hsla(190,0%,50%,0), hsla(190,0%,50%,0))'
					event.target.style.color = 'hsla(190,0%,50%,0.5)'
					subjectT[subind] = 0
				}
			}
			else {
				event.target.style.background = 'hsla(190,100%,50%,0)'
				event.target.style.color = 'hsla(190,0%,0%,1)'
				subjectT[subind] = 1
			}
			
		}

		
		for(sub=0; sub<subjects.length; sub++) {
			document.getElementById(subjectsL[sub]).addEventListener('click', toggleSubject)
		}

		function sumArray(array) {
			sum = 0
			for (i=0; i < array.length; i++) {
				sum = sum + array[i]
			}
			return sum
		}

		function drawDot(divId,xcor,ycor, radius, color, cid) {
			var circleElement = document.createElementNS("http://www.w3.org/2000/svg", 'circle');
			circleElement.setAttribute('r',radius);
			circleElement.setAttribute('cx',xcor);
			circleElement.setAttribute('cy',ycor);
			circleElement.setAttribute('id',cid);
			circleElement.style.fill = color
			circleElement.style.strokeWidth = '0';
			divId.appendChild(circleElement);
		}

		function overNode(event) {
			snum = wordidmap[event.target.id][0]
			wnum = wordidmap[event.target.id][1]
			word = wordsholder[snum][wnum][0].charAt(0).toUpperCase() + wordsholder[snum][wnum][0].slice(1);
			document.getElementById('infoholder').innerHTML = word + ' <br/><span style="font-size: 0.7vw; color: hsla(' + subjectcolors[snum] + ',100%,50%,1);">' + subjects[snum] + '</span>'
			var rect = document.getElementById('containBraintexts').getBoundingClientRect();
			var x = event.clientX - rect.left; //x position within the element.
			var y = event.clientY - rect.top;
			document.getElementById('infoholder').style.left = x + 'px'
			document.getElementById('infoholder').style.top = y + 'px'
			document.getElementById('infoholder').style.transform = 'translate(' + ((1)*x) + 'px, ' + ((1)*y) + 'px)' 

		}

		wordidmap = {}

		brainsvg = document.getElementById('brainsvg')
		brainconnsvg = document.getElementById('brainconnsvg')


		datasecpts = {}

		function createneurons(subjectnum,xl,xu,yl,yu, jerkx, jerky, rbase, rdev) {
			xlrange = xl
			xurange = xu
			ylrange = yl
			yurange = yu
			wordsfromsub = wordsholder[subjectnum].length
			if (wordsholder[subjectnum].length > 150) {
				wordsfromsub = 150
			}
			for (m = 0; m < wordsfromsub; m++) {
				jerk = Math.random()*10
				xpos = (jerk*jerkx) + xlrange + Math.random()*(xurange - xlrange)
				xps = xpos
				xpos = xpos + '%'
				jerk = Math.random()*10
				ypos = (jerk*jerky) + ylrange + Math.random()*(yurange - ylrange)
				yps = ypos
				ypos = ypos + '%'
				rval = rbase + (Math.random()*rdev)  + '%'
				drawDot(brainsvg, xpos, ypos, rval, 'hsla(' + subjectcolors[subjectnum] + ',100%,50%,' + (0.2 + Math.random()*0.4) +  ')', subjectnum + '-' + m)
				document.getElementById(subjectnum + '-' + m).addEventListener('mouseover', overNode)
				document.getElementById(subjectnum + '-' + m).setAttribute('onclick', "window.open('" + wordsholder[subjectnum][m][2] + "')")
				wordidmap[subjectnum + '-' + m] = [subjectnum,m,xpos, ypos, xps, yps]
				document.getElementById(subjectnum + '-' + m).style.cursor = 'pointer'
				
				// Locationtracing
				seq = parseInt(xps/3) + "-" + parseInt(yps/3)
				if (typeof datasecpts[seq] == 'undefined') {
					datasecpts[seq] = []
				}
				datasecpts[seq].push([xps, yps])
			}
		}

		

		function drawLine(divId,initxcor,initycor, finalxcor, finalycor, color, strokewidth) {
			var lineElement = document.createElementNS("http://www.w3.org/2000/svg", 'line');
			lineElement.setAttribute('x1',initxcor);
			lineElement.setAttribute('y1',initycor);
			lineElement.setAttribute('x2',finalxcor);
			lineElement.setAttribute('y2',finalycor);
			lineElement.style.stroke = color
			lineElement.style.strokeWidth = strokewidth+'%';
			divId.appendChild(lineElement);
		}

		averageconn = 4


		function connectrandom(thick) {
			for (subjectnum = 0; subjectnum < subjects.length; subjectnum++) {
				wordsfromsub = wordsholder[subjectnum].length
				if (wordsholder[subjectnum].length > 150) {
					wordsfromsub = 150
				}
				for (m = 0; m < wordsfromsub; m++) {
					conns = averageconn 
					xp = wordidmap[subjectnum + '-' + m][2]
					yp = wordidmap[subjectnum + '-' + m][3]

					xps = wordidmap[subjectnum + '-' + m][4]
					yps = wordidmap[subjectnum + '-' + m][5]

					startx = (xps/3) - 1
					starty = (yps/3) - 1

					for (seqsx = 0; seqsx < 3; seqsx++) {
						for (seqsy = 0; seqsy < 3; seqsy++) {
							seq = parseInt(startx + seqsx) + "-" + parseInt(starty + seqsy)
							if (typeof datasecpts[seq] !== 'undefined') {
								npoints = datasecpts[seq]
								// console.log(npoints)
								for (conn = 0; conn < npoints.length; conn++) {
									if (npoints[conn] != [xps, yps] && Math.random() < 0.2) {
										nxp = npoints[conn][0]
										nyp = npoints[conn][1]
										drawLine(brainconnsvg, xp, yp, nxp, nyp, 'hsla(0,100%,0%,0.4)', thick)	
									}
									// subnum = parseInt(Math.random()*3)
									// wnumber = parseInt(Math.random()*(wordsholder[subnum].length - 1))

									// console.log(subnum,wnumber)

									
								}
							}
							
						}
					}
						
				}
			}
		}

		

		// For mobile phones
		// document.onresize = handleSize()

		function handleSize() {
			if (window.innerWidth < window.innerHeight) {
				document.getElementById('MainUIblocks').style.gridTemplateRows = '50% 50%'
				document.getElementById('MainUIblocks').style.gridTemplateColumns = '100%'

				document.getElementById('topic1holder').style.gridTemplateRows = '20% 8% 7% 35% 30%'
				document.getElementById('topic1holder').style.gridTemplateColumns = '30% 70%'

				document.getElementById('topic1name').style.textAlign = 'left'
				document.getElementById('topic1description').style.textAlign = 'left'
				document.getElementById('topic1subject').style.textAlign = 'left'
				document.getElementById('topic1description').style.left = '0'

				document.getElementById('topic1name').style.fontSize = '3vh'
				document.getElementById('topic1description').style.fontSize = '1.5vh'
				document.getElementById('topic1subject').style.fontSize = '2vh'

				document.getElementById('topic1neuron').style.gridColumn = '1 / 2'
				document.getElementById('topic1neuron').style.gridRow = '1 / 5'
				document.getElementById('topic1name').style.gridColumn = '2 / 3'
				document.getElementById('topic1name').style.gridRow = '2 / 3'
				document.getElementById('topic1subject').style.gridColumn = '2 / 3'
				document.getElementById('topic1subject').style.gridRow = '3 / 4'
				document.getElementById('topic1description').style.gridColumn = '2 / 3'
				document.getElementById('topic1description').style.gridRow = '4 / 5'

				document.getElementById('topic2holder').style.gridTemplateRows = '30% 8% 7% 35% 20%'
				document.getElementById('topic2holder').style.gridTemplateColumns = '30% 70%'

				document.getElementById('topic2name').style.textAlign = 'left'
				document.getElementById('topic2description').style.textAlign = 'left'
				document.getElementById('topic2subject').style.textAlign = 'left'
				document.getElementById('topic2description').style.left = '0'

				document.getElementById('topic2name').style.fontSize = '3vh'
				document.getElementById('topic2description').style.fontSize = '1.5vh'
				document.getElementById('topic2subject').style.fontSize = '2vh'

				document.getElementById('topic2neuron').style.gridColumn = '1 / 2'
				document.getElementById('topic2neuron').style.gridRow = '1 / 5'
				document.getElementById('topic2name').style.gridColumn = '2 / 3'
				document.getElementById('topic2name').style.gridRow = '2 / 3'
				document.getElementById('topic2subject').style.gridColumn = '2 / 3'
				document.getElementById('topic2subject').style.gridRow = '3 / 4'
				document.getElementById('topic2description').style.gridColumn = '2 / 3'
				document.getElementById('topic2description').style.gridRow = '4 / 5'

				document.getElementById('UIquestions').style.gridColumn = '1 / 2'
				document.getElementById('UIquestions').style.gridRow = '2 / 3'

				document.getElementById('UIquestions').style.fontSize = '3.5vh'

				document.getElementById('MainUIcomponents').style.gridTemplateRows = '37% 10% 5% 7% 29% 12%'
				document.getElementById('MainUIcomponents').style.gridTemplateColumns = '100%'


				document.getElementById('UIabout').style.gridRow = '4 / 5'
				document.getElementById('UIaboutname').style.fontSize = '2vh'
				

				document.getElementById('containSubjects').style.gridTemplateRows = '33% 34% 33%'
				document.getElementById('containSubjects').style.gridTemplateColumns = '50% 50%'

				document.getElementById('UIoptions').style.gridColumn = '1 / 2'
				document.getElementById('UIoptions').style.gridRow = '3 / 4'

				document.getElementById('UIoptions').style.gridTemplateColumns = '10% 17% 4% 17% 4% 17% 4% 17% 10%';

				document.getElementById('optionYes').style.fontSize = '2.5vmax';
				document.getElementById('optionNo').style.fontSize = '2.5vmax';
				document.getElementById('optionMaybe').style.fontSize = '2.5vmax';
				document.getElementById('optionSkip').style.fontSize = '2.5vmax';
				document.getElementById('nextoptionSubmit').style.fontSize = '2.5vmax';
				document.getElementById('nextoptionSkip').style.fontSize = '2.5vmax';

				document.getElementById('UIneuronconnection').style.visibility = 'hidden'


				document.getElementById('MainUInext').style.gridTemplateRows = '35% 7% 13% 7% 5% 38%'

				document.getElementById('nextrelateTextcontent').style.fontSize = '3vh'
				document.getElementById('textinputExplanation').style.fontSize = '2.5vh'

				document.getElementById('nextoptions').style.gridTemplateColumns = '25% 16% 18% 16% 25%';

				document.getElementById('subjectsHeadnameH').style.fontSize = '4vh'
				document.getElementById('subjectsHeaddescH').style.fontSize = '2.2vh'
				document.getElementById('subjectbionameH').style.fontSize = '3vh'
				document.getElementById('subjectbiodescH').style.fontSize = '2vh'
				document.getElementById('subjectphysicsnameH').style.fontSize = '3vh'
				document.getElementById('subjectphysicsdescH').style.fontSize = '2vh'
				document.getElementById('subjectainameH').style.fontSize = '3vh'
				document.getElementById('subjectaidescH').style.fontSize = '2vh'
				document.getElementById('subjecteconnameH').style.fontSize = '3vh'
				document.getElementById('subjectecondescH').style.fontSize = '2vh'

				document.getElementById('subjectphysics').style.borderRightWidth = 'initial'
				document.getElementById('subjectai').style.borderBottomWidth = 'initial'
				document.getElementById('subjectbio').style.borderRightWidth = '0'
				document.getElementById('subjectai').style.borderRightWidth = '0'

				document.getElementById('abouttheprojectdata').style.fontSize = '2.7vh'
				document.getElementById('projectname').style.fontSize = '10vh'
				document.getElementById('projectdesc').style.fontSize = '5vh'

				document.getElementById('brainTitle').style.gridColumn = '1 / 3'
				document.getElementById('brainTitle').style.gridRow = '1 / 3'

				document.getElementById('containBrainBack').style.opacity = '0.4'
				document.getElementById('containBrainBackConn').style.opacity = '0.4'

				maxX = 100
				maxY = 100 + (65/wHratio)
				minX =  0
				minY = 0 - (65/wHratio)



				createneurons(0, minX, 60, minY, 50, 0, 1,2.4*0.3/wHratio,1.4*0.2/wHratio)
				createneurons(1, 50, maxX, minY, 50, -1, 0,2.4*0.3/wHratio,1.4*0.2/wHratio)
				createneurons(2, 50, maxX, 35, maxY, -1, 0,2.4*0.3/wHratio,1.4*0.2/wHratio)
				createneurons(3, minX, 65, 50, maxY, 1, -1,2.4*0.3/wHratio,1.4*0.2/wHratio)

				connectrandom(0.2/wHratio)


			}
			else if (window.innerWidth >= window.innerHeight) {
				// document.getElementById('MainUIblocks').style.gridTemplateRows = '100%'
				// document.getElementById('MainUIblocks').style.gridTemplateColumns = '50% 50%'
				

				// document.getElementById('containSubjects').style.gridTemplateColumns = '33% 34% 33%'
				// document.getElementById('containSubjects').style.gridTemplateRows = '50% 50%'
				// document.getElementById('containBrainFull').style.height = '50%'

				maxX = 100
				maxY = 100 
				minX = 0
				minY = 0

				createneurons(0, minX, 80, minY, 25, 0, 1,0.3,0.2)
				createneurons(1, 50, maxX, minY, 100, -1 , 0 ,0.3,0.2)
				createneurons(2, 50, maxX, 35, maxY, -1, 0,0.3,0.2)
				createneurons(3, minX, 65, 50, maxY, 1, -1,0.3,0.2)

				connectrandom(0.02)
			}
		}

		handleSize()
			
			
		

		
		

		</script>


	</body>
<html>
